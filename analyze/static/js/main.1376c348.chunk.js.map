{"version":3,"sources":["shims.js","components/DragDropUpload.js","components/Bootstrap/Color.js","components/Bootstrap/Button.js","components/Bootstrap/Dropdown.js","components/Bootstrap/DropdownList.js","components/FileSelectors.js","utils/fetchJSON.js","types/getRawStats.js","utils/actions.js","components/FileSelectorsContainer.js","components/Navbar.js","components/stats/ExternalModuleLink.js","components/OffsetPageAnchor.js","components/Unit.js","components/stats/BlacklistTableBody.js","components/Bootstrap/Panel.js","components/stats/formatModuleName.js","components/stats/ModulePanelContainers.js","components/stats/ModulePanels.js","components/stats/BlacklistTableContainer.js","components/stats/BlacklistTable.js","components/stats/ChunkBreadcrumbContainer.js","components/stats/ChunkBreadcrumb.js","components/stats/LoopTable.js","components/stats/LoopTableContainer.js","utils/flatten.js","components/stats/ModuleTableBody.js","stats/getModulesById.js","stats/collapseModulesToRows.js","stats/filterModules.js","stats/sortModules.js","components/stats/ModuleTableBodyContainer.js","components/stats/FilterCumulativeSizeForm.js","components/stats/FilterDisplay.js","components/stats/FilterModuleNameForm.js","components/stats/FilterRequiredByCountForm.js","components/stats/FilterRequirementsCountForm.js","components/SortLabel.js","components/stats/ModuleTableHead.js","components/stats/ModuleTableHeadContainer.js","utils/scrollToAndFocus.js","components/stats/ToggleExpandModeButton.js","components/stats/ModuleTable.js","components/stats/ModuleTableContainer.js","components/stats/SelectedChunk.js","components/LoadingSpinner.js","types/Stats.js","stats/getChunkName.js","stats/getChunkNamesFromImportedModules.js","stats/getEntryChunks.js","stats/getEntryHierarchy.js","components/stats/ChunkDropdown.js","components/stats/ChunkDropdownContainer.js","components/stats/ConfigDropdown.js","components/stats/ConfigDropdownContainer.js","components/App.js","components/AppContainer.js","utils/registerServiceWorker.js","stats/getChunkModules.js","stats/getModulesByChunk.js","stats/getExtendedModulesById.js","stats/getParentChunks.js","stats/fullModuleData.js","stats/splitUnreachableModules.js","utils/reducer.js","stats/getCollapsableParentOf.js","utils/UrlStateEncoder.js","index.js","utils/withTimings.js"],"names":["Object","values","shim","Array","prototype","includes","readFile","file","callback","reader","FileReader","onload","event","name","target","result","readAsText","DragDropUpload","_dragEntered","clickFileInput","_this","_fileInput","click","onChangeFileInput","files","props","didGetFile","onDragOver","preventDefault","onDragEnter","onDragLeave","onDrop","dataTransfer","onChange","console","warn","_this2","this","react","onClick","style","ref","div","_div","addEventListener","id","display","className","type","input","children","React","colorToClass","prefix","color","fallback","arguments","length","undefined","concat","sizeToClass","size","Button","classNames","join","disabled","Link","href","newtab","role","DropdownToggleButton","aria-expanded","isOpen","aria-haspopup","data-toggle","CloseButton","aria-label","label","aria-hidden","Dropdown","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","_dropDownMenu","_flyout","onHide","setState","onToggleOpen","state","onClickToggle","onDocumentClick","HTMLElement","contains","onFlyoutWheel","scrollTop","maxScroll","scrollHeight","offsetHeight","deltaY","Boolean","defaultIsOpen","waitForDropdownMenu","scrollable","document","prevProps","prevState","removeEventListener","split","primaryOnClick","renderToggleLabel","renderContent","octicon","index_esm","key","icon","TriangleDown","documentElement","clientHeight","dropDownBounds","getBoundingClientRect","maxHeight","top","height","overflow","onWheel","_this3","align","content","getContent","isArray","assign","getScrollableProps","ul","DropdownList","hideContent","items","filter","item","String","value","toLowerCase","map","e","onItemPicked","node","Error","_input","focus","Dropdown_Dropdown","width","marginTop","marginBottom","placeholder","stopPropagation","willStopPropagation","responseCache","fetchJSON","endpoint","fetch","headers","Headers","Accept","then","response","json","invariant","condition","message","getRawStats","getStatsJson","singleError","forEach","getMultiStatsJson","multiError","chunks","modules","mod","source","PickDataPath","dispatch","path","DroppedDataFile","fileText","JSON","parse","LoadedStatsAtPath","error","alert","ErroredAtPath","fetchDataFile","RequestedDataAtPath","catch","SortedTable","field","FilteredTable","changes","PickedChild","childIndex","PickedChunk","chunkId","RemovedModule","moduleID","IncludedModule","ChangeExpandMode","mode","ExpandRecords","CollapseRecords","FocusElement","elementID","connect","dataPaths","keys","filename","selectedFilename","onPickedFile","htmlFor","DropdownList_DropdownList","Navbar","window","location","hash","reload","Book","MarkGithub","ExternalModuleLink","module","LinkExternal","ariaLabel","OffsetPageAnchor","anchor","objectSpread","tabIndex","NBSP","Unit","n","Elem","elem","title","bytes","parseInt","reverse","s","i","slice","Math","floor","log","parseFloat","pow","toFixed","formatBytes","BlacklistTableBody","react_default","a","createElement","renderHideRow","removedModules","eModule","process","colSpan","TriangleRight","Component","panelTypeToClass","Row","heading","child","ELLIPSIS","joinWithBR","nodes","index","formatModuleName","indexOf","parts","moduleName","pop","loaders","part","_part$split","_part$split2","slicedToArray","loader","query","reduce","mapDispatchToProps","onFocusChanged","RequiredByPanelContainer","requiredBy","reason","moduleId","RequirementsPanelContainer","requirements","blacklistedModuleIds","moduleData","calculatedFullModuleData","onIncludeModule","removed","blacklistedModuleIdStrings","blacklistedModulesList","sum","cellPadding","cellSpacing","BlacklistTableBody_BlacklistTableBody","parentChunks","totalModules","_state$calculatedFull","selectedChunkId","included","chunk","LoopTable","expanded","loopingModules","extendedModules","loops","identifier","loop","flatten","arrOfArray","apply","ModuleTableRow","recordCount","row","displayModule","records","collapsedSizeBytes","moduleSizeBytes","hasCollapsedChildren","isFirstRecord","uniqueImports","onCollapseRecords","onExpandRecords","cumulativeSize","onRemoveModule","getModulesById","modulesById","collapseModulesToRows","requiredByCount","toConsumableArray","collectSingleChildrenOf","requiredModule","eReqModule","toNumber","Number","makeRecordRangeFilter","min","max","sortModules","sort","b","direction","checkDirection","compare","getRows","filters","rows","re","RegExp","test","cumulativeSizeMin","cumulativeSizeMax","requiredByCountMin","requiredByCountMax","requirementsCountMin","requirementsCountMax","filterModules","expandMode","expandedRecords","record","ModuleTableGroupedRows","has","INFINITY","FilterCumulativeSizeForm","onChangeMin","onChangeMax","FilterDisplay","isFiltered","paddingLeft","onClear","FilterModuleNameForm","FilterRequiredByCountForm","FilterRequirementsCountForm","SortLabel","isSameField","ArrowUp","ArrowDown","onFilter","onSort","fieldType","scrollToAndFocus","scrollToElem","getElementById","scrollTo","isWithinViewport","viewportTop","viewportHeight","targetTop","targetHeight","obj","curtop","offsetParent","offsetTop","findPos","scrollParent","element","includeHidden","getComputedStyle","excludeStaticParent","position","overflowRegex","body","parent","parentElement","overflowY","overflowX","getScrollParent","scrollY","innerHeight","scroll","ModeOption","isSetToTarget","nextMode","textAlign","onPickMode","checked","onChangedExpandMode","pickedMode","ModuleTable","focusedRowID","modulesIncludedLabel","stats_ToggleExpandModeButton","ModuleTableHeadContainer","ModuleTableBodyContainer","amount","currentlyFocusedElementID","SelectedChunk","ChunkBreadcrumbContainer","BlacklistTableContainer","LoopTableContainer","ModuleTableContainer","LoadingSpinner","Sync","isSameChunk","getChunkName","importedChunkNames","names","origins","origin","isImportType","wasImported","reasons","getEntryChunks","stats","ROOT_ID","MIN_SAFE_INTEGER","getEntryHierarchy","chunksById","namesByChunks","loc","shift","getChunkNamesFromImportedModules","entryChunks","rootChunks","asyncChunksById","ids","replace","match","getSyncName","parents","push","parentId","asyncParent","chunksByParent","onSelectChunkId","chunkList","flatChunks","visitedChunks","appendChildren","indent","flattenChunksByParent","selectedChunk","jsonChildren","childrenIndexes","k","selectedChildIndex","onPickedChild","DragDropHelp","App","isDragging","showHelp","appState","DragDropUpload_DragDropUpload","aria-describedby","onDroppedFile","FileSelectorsContainer","ConfigDropdownContainer","ChunkDropdownContainer","LoadingSpinner_LoadingSpinner","stringify","getAppState","isLocalhost","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","getChunkModules","modulesByChunk","chunkWhitelist","getModulesByChunk","chunkWithModules","calculateModuleSizes","doneKeys","getSizeOf","visitedIds","rModule","reModule","sizeOf","getParentChunks","root","findChunk","targetID","history","nextHistory","found","fullModuleData","extendedModulesById","requirementsCount","importer","getExtendedModulesById","splitModules","stringyModuleIds","stringyBlackListedIds","_relevantReasons","reachableModuleIds","_includableModule","splitUnreachableModules","INITIAL_STATE","Set","getDefaultChildIndex","getDefaultChunkId","handleAction","action","paths","defineProperty","invertedDir","nextDirection","add","delete","collapseableParent","getCollapsableParentOf","UrlStateEncoder","store","_subscription","onStoreChanged","newState","_store","getState","encodeStateForHash","targetState","readStateFromHash","rm","remove","subscribe","pair","_pair$split","_pair$split2","val","decodeURIComponent","vals","encodeURIComponent","instance","factory","createStore","scope","fn","timeStamp","time","_len","args","_key","timeEnd","withTimings","oldState","__REDUX_DEVTOOLS_EXTENSION__","onHasStatsUrl","onHasListEndpoint","DiscoveredDataPaths","REACT_APP_STATS_URL","info","ReactDOM","render","es","AppContainer","URL","status","get","ready","unregister","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.1376c348.chunk.js","sourcesContent":["/**\n * @flow\n */\n\nimport values from 'object.values';\nimport includes from 'array-includes';\nimport 'raf/polyfill';\nimport 'console-shim';\n\nif (!Object.values) {\n  values.shim();\n}\n\nif (!Array.prototype.includes) {\n  includes.shim();\n}\n","/*\n * @flow\n */\n\nimport * as React from 'react';\n\ntype OnChangeCallback = (path: string) => void;\ntype DidGetFileCallback = (path: string, fileText: string) => void;\n\ntype Props = {\n  id?: string,\n  className?: string,\n  'aria-describedby'?: string,\n  style?: string,\n  onDragEnter?: () => void,\n  onDragLeave?: () => void,\n  onChange: OnChangeCallback,\n  didGetFile: DidGetFileCallback,\n  children: ?React.Node,\n};\n\nfunction readFile(\n  file: File,\n  callback: DidGetFileCallback,\n) {\n  const reader = new FileReader();\n  reader.onload = function(event: {target: {result: string}}) {\n    callback(file.name, event.target.result);\n  };\n  reader.readAsText(file);\n}\n\nexport default class DragDropUpload extends React.Component<Props, void> {\n  _div: ?HTMLElement;\n  _fileInput: ?HTMLInputElement;\n  _dragEntered = 0;\n\n  render() {\n    return (\n      <div\n        onClick={this.clickFileInput}\n        style={this.props.style}\n        ref={(div: ?HTMLDivElement) => {\n          this._div = div;\n          if (div) {\n            div.addEventListener('dragover', this.onDragOver);\n            div.addEventListener('dragenter', this.onDragEnter);\n            div.addEventListener('dragleave', this.onDragLeave);\n            div.addEventListener('drop', this.onDrop);\n          }\n        }}>\n        <input\n          id={this.props.id}\n          style={{display: 'none'}}\n          className={this.props.className}\n          type=\"file\"\n          ref={(input) => { this._fileInput = input; }}\n          onChange={this.onChangeFileInput}\n        />\n        {this.props.children}\n      </div>\n    );\n  }\n\n  clickFileInput = () => {\n    this._fileInput && this._fileInput.click();\n  };\n\n  onChangeFileInput = () => {\n    if (\n      this._fileInput &&\n      this._fileInput.files &&\n      this._fileInput.files[0]\n    ) {\n      readFile(this._fileInput.files[0], this.props.didGetFile);\n    }\n  };\n\n  onDragOver = (event: DragEvent) => {\n    event.preventDefault();\n  };\n\n  onDragEnter = () => {\n    this._dragEntered += 1;\n    this.props.onDragEnter && this.props.onDragEnter();\n  };\n\n  onDragLeave = () => {\n    this._dragEntered -= 1;\n    if (this._dragEntered === 0) {\n      this.props.onDragLeave && this.props.onDragLeave();\n    }\n  };\n\n  onDrop = (event: DragEvent) => {\n    event.preventDefault();\n    if (\n      event.dataTransfer &&\n      event.dataTransfer.files &&\n      event.dataTransfer.files[0]\n    ) {\n      const file = event.dataTransfer.files[0];\n      this.props.onChange(file.name);\n      readFile(file, this.props.didGetFile);\n    } else {\n      // eslint-disable-next-line no-console\n      console.warn('No mouse-drop data found.');\n    }\n  };\n}\n","/*\n * @flow\n */\n\nexport type Color =\n  | 'default'\n  | 'light'\n  | 'dark'\n  | 'primary'\n  | 'secondary'\n  | 'success'\n  | 'info'\n  | 'warning'\n  | 'danger'\n  | 'link'\n  | 'outline-secondary';\n\nexport type Prefixes = 'btn';\n\nexport function colorToClass(\n  prefix: Prefixes,\n  color: ?Color,\n  fallback: Color = 'light',\n) {\n  if (color === 'default') {\n    return `${prefix}-light`;\n  }\n  return `${prefix}-${color || fallback}`;\n}\n","/*\n * @flow\n */\n\nimport type {Color} from './Color';\n\nimport * as React from 'react';\nimport {colorToClass} from './Color';\n\ntype Size =\n  | 'lg'\n  | 'sm'\n  | 'xs'\n  | 'block';\n\ntype Display = 'block' | 'inline';\n\ntype ButtonProps = {\n  children?: React.Node,\n  color?: Color,\n  size?: Size,\n  onClick: ?(e: MouseEvent) => void,\n  display?: Display,\n  style?: Object,\n};\n\nfunction sizeToClass(size: ?Size) {\n  if (!size) {\n    return null;\n  } else if (size === 'xs') {\n    return `btn-sm`;\n  }\n  return `btn-${size}`;\n}\n\nfunction displayToClass(display: ?Display) {\n  if (!display || display === 'inline') {\n    return null;\n  }\n  return `btn-${display}`;\n}\n\nexport default function Button(props: ButtonProps) {\n  const classNames = [\n    'btn',\n    colorToClass('btn', props.color, 'outline-secondary'),\n    displayToClass(props.display),\n    sizeToClass(props.size),\n  ].join(' ');\n\n  return (\n    <button\n      type=\"button\"\n      className={classNames}\n      disabled={props.onClick ? null : 'disabed'}\n      onClick={props.onClick}\n      style={props.style ? props.style : null}>\n      {props.children}\n    </button>\n  );\n}\n\ntype LinkProps = {\n  children?: React.Node,\n  color?: Color,\n  href: ?string,\n  newtab?: boolean,\n  size?: Size,\n};\n\nexport function Link(props: LinkProps) {\n  const classNames = [\n    'btn',\n    colorToClass('btn', props.color, 'link'),\n    sizeToClass(props.size),\n  ].join(' ');\n\n  return (\n    <a\n      className={classNames}\n      href={props.href || '#'}\n      disabled={props.href ? null : 'disabled'}\n      target={props.newtab ? '_blank' : null}\n      role=\"button\">\n      {props.children}\n    </a>\n  );\n}\n\ntype DropdownToggleProps = ButtonProps & {\n  isOpen: boolean,\n  size?: Size,\n};\n\nexport function DropdownToggleButton(props: DropdownToggleProps) {\n  const classNames = [\n    'btn',\n    colorToClass('btn', props.color, 'outline-secondary'),\n    sizeToClass(props.size),\n    'dropdown-toggle',\n  ].join(' ');\n\n  return (\n    <button\n      aria-expanded={props.isOpen}\n      aria-haspopup=\"true\"\n      className={classNames}\n      data-toggle=\"dropdown\"\n      disabled={props.onClick ? null : 'disabed'}\n      onClick={props.onClick}\n      type=\"button\">\n      {props.children}\n    </button>\n  );\n}\n\ntype CloseProps = {\n  label?: string,\n  onClick: ?(e: MouseEvent) => void,\n};\n\nexport function CloseButton(props: CloseProps) {\n  return (\n    <button\n      aria-label={props.label || 'Close'}\n      className=\"close\"\n      disabled={props.onClick ? null : 'disabed'}\n      onClick={props.onClick}\n      type=\"button\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  );\n}\n","/*\n * @flow\n */\n\nimport type {Color} from './Color';\nimport Octicon, { typeof Icon, TriangleDown } from '@github/octicons-react';\nimport Button, {DropdownToggleButton} from './Button';\nimport * as React from 'react';\n\ntype Alignment = 'left' | 'right';\n\ntype Size =\n  | 'lg'\n  | 'sm'\n  | 'xs'\n  | 'block';\n\nexport type Props = {\n  align?: Alignment,\n  color?: Color,\n  size?: Size,\n  disabled?: boolean,\n  scrollable?: boolean,\n  style?: Object,\n\n  children?: React.Node,\n\n  getContent: (hideContent: () => void) => React.Node,\n  defaultIsOpen?: boolean,\n  onToggleOpen?: (isOpen: boolean) => void,\n\n  split?: {\n    primaryOnClick: (e: MouseEvent) => void,\n    label: React.Node,\n    octicon?: Icon,\n  },\n};\n\ntype State = {\n  isOpen: boolean,\n  waitForDropdownMenu: boolean, // invoke a re-render when scrollable and isOpen are true during mount\n};\n\nconst DROPDOWN_VERTICAL_MARGIN_TOTAL = 22; // top&bottom margin of .dropdown-menu\n\nfunction sizeToClass(size: ?Size) {\n  if (!size) {\n    return null;\n  }\n  return `btn-${size}`;\n}\n\nexport default class Dropdown extends React.Component<Props, State> {\n  state: State;\n  _dropDownMenu: ?HTMLElement = null;\n  _flyout: ?HTMLElement = null;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      isOpen: Boolean(props.defaultIsOpen),\n      waitForDropdownMenu: Boolean(props.defaultIsOpen) && Boolean(props.scrollable),\n    };\n  }\n\n  componentDidMount() {\n    if (this.state.isOpen) {\n      document.addEventListener('click', this.onDocumentClick);\n\n      if (this.state.waitForDropdownMenu) {\n        // force a re-render during mount to properly measure _dropDownMenu\n        this.setState({\n          waitForDropdownMenu: false,\n        });\n      }\n    }\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    if (this.state.isOpen && !prevState.isOpen) {\n      document.addEventListener('click', this.onDocumentClick);\n    } else if (!this.state.isOpen) {\n      document.removeEventListener('click', this.onDocumentClick);\n    }\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.onDocumentClick);\n  }\n\n  isOpen() {\n    return this.state.isOpen;\n  }\n\n  render() {\n    return (\n      <div\n        className={[\n          'dropdown',\n          sizeToClass(this.props.size),\n        ].join(' ')}\n        ref={(div) => {\n          this._dropDownMenu = div;\n        }}\n        style={this.props.style}>\n        {this.props.split\n          ? <Button\n            color={this.props.color}\n            size={this.props.size}\n            onClick={this.props.disabled\n              ? null\n              : this.props.split.primaryOnClick}>\n            {this.props.children}\n          </Button>\n          : null}\n        <DropdownToggleButton\n          color={this.props.color}\n          size={this.props.size}\n          isOpen={this.state.isOpen}\n          onClick={this.props.disabled\n            ? null\n            : this.onClickToggle}>\n          {this.renderToggleLabel()}\n        </DropdownToggleButton>\n        {this.state.isOpen\n          ? this.renderContent()\n          : null}\n      </div>\n    );\n  }\n\n  renderToggleLabel() {\n    if (this.props.split) {\n      const split = this.props.split;\n      if (split.octicon) {\n        return [\n          <Octicon key=\"icon\" icon={split.octicon} />,\n          <span key=\"label\" className=\"sr-only\">{split.label}</span>,\n        ];\n      } else {\n        return [\n          <Octicon key=\"icon\" icon={TriangleDown} />,\n          <span key=\"label\" className=\"sr-only\">{split.label}</span>,\n        ];\n      }\n    } else {\n      return this.props.children;\n    }\n  }\n\n  getScrollableProps() {\n    if (!this.props.scrollable) {\n      return {};\n    }\n\n    if (\n      !document ||\n      !document.documentElement ||\n      !this._dropDownMenu\n    ) {\n      return {};\n    }\n\n    const clientHeight = document.documentElement.clientHeight;\n    if (!clientHeight) {\n      return {};\n    }\n\n    const dropDownBounds = this._dropDownMenu.getBoundingClientRect();\n    const maxHeight = clientHeight - dropDownBounds.top - dropDownBounds.height - DROPDOWN_VERTICAL_MARGIN_TOTAL;\n\n    return {\n      style: {\n        maxHeight: maxHeight,\n        overflow: 'scroll',\n      },\n      onWheel: this.onFlyoutWheel,\n    };\n  }\n\n  renderContent() {\n    const classNames = [\n      'dropdown-menu',\n      'show',\n      this.props.align === 'right' ? 'dropdown-menu-right' : '',\n    ].join(' ');\n\n    const content = this.props.getContent(this.onHide);\n    if (Array.isArray(content)) {\n      return (\n        <ul\n          className={classNames}\n          {...this.getScrollableProps()}\n          ref={(ul) => {\n            this._flyout = ul;\n          }}>\n          {content}\n        </ul>\n      );\n    } else {\n      return (\n        <div\n          className={classNames}\n          {...this.getScrollableProps()}\n          ref={(div) => {\n            this._flyout = div;\n          }}>\n          {content}\n        </div>\n      );\n    }\n  }\n\n  onHide = () => {\n    this.setState({isOpen: false}, () => {\n      this.props.onToggleOpen && this.props.onToggleOpen(this.state.isOpen);\n    });\n  };\n\n  onClickToggle = () => {\n    this.setState({isOpen: !this.state.isOpen}, () => {\n      this.props.onToggleOpen && this.props.onToggleOpen(this.state.isOpen);\n    });\n  };\n\n  onDocumentClick = (event: MouseEvent) => {\n    if (event.target instanceof HTMLElement) {\n      if (this._dropDownMenu && this._dropDownMenu.contains(event.target)) {\n        // Ignore clicks coming from inside this component\n        return;\n      }\n      if (this.state.isOpen) {\n        this.setState({isOpen: false}, () => {\n          this.props.onToggleOpen && this.props.onToggleOpen(this.state.isOpen);\n        });\n      }\n    }\n  };\n\n  onFlyoutWheel = (event: SyntheticWheelEvent<HTMLElement>) => {\n    if (!this._flyout) {\n      return;\n    }\n    const scrollTop = this._flyout.scrollTop;\n    const maxScroll = this._flyout.scrollHeight - this._flyout.offsetHeight;\n    const deltaY = event.deltaY;\n\n    if (\n      (scrollTop === maxScroll && deltaY > 0) ||\n      (scrollTop === 0 && deltaY < 0)\n    ) {\n      event.preventDefault();\n      return;\n    }\n\n    if (\n      (scrollTop + deltaY) > maxScroll &&\n      this._flyout.scrollTop !== maxScroll\n    ) {\n      this._flyout.scrollTop = maxScroll;\n      event.preventDefault();\n      return;\n    }\n\n    if (\n      (scrollTop + deltaY) < 0 &&\n      this._flyout.scrollTop !== 0\n    ) {\n      this._flyout.scrollTop = 0;\n      event.preventDefault();\n      return;\n    }\n  };\n}\n","/*\n * @flow\n */\n\nimport type {Color} from './Color';\n\nimport Button from './Button';\nimport Dropdown from './Dropdown';\nimport * as React from 'react';\n\ntype Alignment = 'left' | 'right';\n\ntype Size =\n  | 'lg'\n  | 'sm'\n  | 'xs'\n  | 'block';\n\nexport type ItemValue = string | number;\ntype LabelItem = {|\n  label: string,\n  value: ItemValue,\n|};\ntype NodeItem = {|\n  node: (hideContent: () => void) => React.Node,\n  value: ItemValue,\n|};\nexport type Item = LabelItem | NodeItem;\n\ntype Props = {\n  align?: Alignment,\n  color?: Color,\n  size?: Size,\n  disabled?: boolean,\n  scrollable?: boolean,\n  style?: Object,\n\n  children: React.Node,\n\n  defaultIsOpen?: boolean,\n\n  items: Array<Item>,\n  onItemPicked?: (value: ItemValue) => void,\n  filter?: 'default' | (searchTerm: string, item: Item) => boolean,\n};\n\ntype State = {\n  isOpen: boolean,\n  filter: string,\n};\n\nexport default class DropdownList extends React.Component<Props, State> {\n  _input: ?HTMLElement;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      isOpen: Boolean(props.defaultIsOpen),\n      filter: '',\n    };\n  }\n\n  componentDidMount() {\n    if (this._input) {\n      this._input.focus();\n    }\n  }\n\n  componentDidUpdate() {\n    if (this._input) {\n      this._input.focus();\n    }\n  }\n\n  renderContent = (hideContent: () => void) => {\n    const props = this.props;\n\n    return props.items\n      .filter((item: Item) =>\n        (props.filter === 'default'\n          ? String(item.label || item.value).toLowerCase().includes(this.state.filter.toLowerCase())\n          : (props.filter\n            ? props.filter(this.state.filter, item)\n            : true)\n        ))\n      .map<React.Node>((item: Item) => {\n        if (item.label) {\n          return (\n            <li key={item.value}>\n              <Button\n                color=\"link\"\n                display=\"block\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  hideContent();\n                  if (props.onItemPicked) {\n                    props.onItemPicked(item.value);\n                  }\n                }}>\n                <div className=\"text-left\">\n                  {String(item.label)}\n                </div>\n              </Button>\n            </li>\n          );\n        } else if (item.node) {\n          return (\n            <li key={item.value}>\n              {item.node(hideContent)}\n            </li>\n          );\n        } else {\n          throw new Error('invalid item type');\n        }\n      });\n  };\n\n  render() {\n    return (\n      <Dropdown\n        {...this.props}\n        getContent={this.renderContent}\n        onToggleOpen={(isOpen: boolean) => {\n          this.setState({isOpen});\n        }}>\n        {this.state.isOpen && this.props.filter\n          ? <input\n            type=\"text\"\n            className=\"form-control input-sm\"\n            style={{\n              display: 'inline',\n              width: 'auto',\n              marginTop: '-6px',\n              marginBottom: '-6px',\n            }}\n            placeholder={typeof this.props.children === 'string'\n              ? this.props.children\n              : null}\n            value={this.state.filter}\n            ref={(input) => {\n              if (input instanceof HTMLElement) {\n                this._input = input;\n              }\n            }}\n            onClick={(e: SyntheticMouseEvent<HTMLInputElement>) => {\n              e.stopPropagation();\n            }}\n            onChange={(e: SyntheticInputEvent<HTMLInputElement>) => {\n              this.setState({ filter: e.target.value });\n            }}\n          />\n          : this.props.children}\n        {' '}\n        <span className=\"caret\"></span>\n      </Dropdown>\n    );\n  }\n}\n","/*\n * @flow\n */\n\nimport type { ItemValue } from './Bootstrap/DropdownList';\n\nimport DropdownList from './Bootstrap/DropdownList';\nimport * as React from 'react';\n\nexport type StateProps = {|\n  dataPaths: Array<string>,\n  filename: ?string,\n|};\n\nexport type DispatchProps = {|\n  onPickedFile: (path: string) => void,\n|};\n\nexport type Props = {|\n  ...$Exact<StateProps>,\n  ...$Exact<DispatchProps>,\n|};\n\nfunction willStopPropagation(event: SyntheticEvent<>) {\n  event.stopPropagation();\n}\n\nexport default function FileSelectors(props: Props) {\n  if (props.dataPaths.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"row form-group\">\n      <label\n        className=\"col-sm-1 col-form-label\"\n        htmlFor=\"data-file-picker\">\n        Filename\n      </label>\n      <div className=\"col-sm-11\" onClick={willStopPropagation}>\n        <DropdownList\n          filter=\"default\"\n          items={props.dataPaths.map((path) => ({\n            label: path,\n            value: path,\n          }))}\n          onItemPicked={(value: ItemValue) => {\n            props.onPickedFile(String(value));\n          }}\n        >\n          {props.filename ? props.filename : null}\n        </DropdownList>\n      </div>\n    </div>\n  );\n}\n","/*\n * @flow\n */\n\nimport type {ParsedJSON} from '../types/Stats';\n\nconst responseCache: {[url: string]: Promise<*>} = {};\n\nexport default function fetchJSON(endpoint: string): Promise<ParsedJSON> {\n  if (!responseCache[endpoint]) {\n    responseCache[endpoint] = fetch(endpoint, {\n      headers: new Headers({\n        'Accept': 'application/json',\n      }),\n    }).then((response) => response.json());\n  }\n  return responseCache[endpoint];\n}\n","/*\n * @flow\n */\n\nimport type {ParsedJSON, RawStats} from '../types/Stats';\n\nfunction invariant(condition: boolean, message: string): void {\n  if (!condition) {\n    // eslint-disable-next-line no-console\n    console.warn(`Could not find 'chunks' field.`);\n    throw new Error(message);\n  }\n}\n\nexport default function getRawStats(\n  json: ParsedJSON,\n): Array<RawStats> {\n  try {\n    const stats = getStatsJson(json);\n    return [stats];\n  } catch (singleError) {\n    try {\n      const multiStats = getMultiStatsJson(json);\n      return multiStats.children;\n    } catch (multiError) {\n      throw new Error('Unable to find required fields.');\n    }\n  }\n}\n\nexport function getStatsJson(\n  json: ParsedJSON,\n): RawStats {\n  invariant(json, 'Empty object found. Stats file must be a populated object.');\n\n  invariant(json.chunks, `Could not find 'chunks' field.`);\n  invariant(json.modules, `Could not find 'modules' field.`);\n\n  invariant(Array.isArray(json.chunks), `Found field 'chunks' but the value is not an array.`);\n  invariant(Array.isArray(json.modules), `Found field 'modules' but the value is not an array.`);\n\n  json.modules.forEach((mod) => {\n    delete mod.source;\n  });\n\n  return json;\n}\n\nexport function getMultiStatsJson(\n  json: ParsedJSON,\n): {children: Array<RawStats>} {\n  invariant(json, 'Empty object found. Stats file must be a populated object.');\n\n  invariant(json.children, `Could not find 'children' field.`);\n  invariant(Array.isArray(json.children), `Found field 'children' but the value is not an array.`);\n\n  json.children.forEach(getStatsJson);\n\n  return json;\n}\n","/**\n * @flow\n */\n\nimport type {ChunkID, ModuleID, ParsedJSON} from '../types/Stats';\nimport type {Dispatch} from './reducer';\nimport type {FilterableFields} from '../stats/filterModules';\nimport type {SortableFields} from '../stats/sortModules';\n\nimport fetchJSON from './fetchJSON';\nimport getRawStats from '../types/getRawStats';\nimport invariant from 'invariant';\n\nexport function DiscoveredDataPaths(dispatch: Dispatch) {\n  return (paths: Array<string>) => dispatch({\n    type: 'discoveredDataPaths',\n    paths,\n  });\n}\n\nexport function PickDataPath(dispatch: Dispatch) {\n  return (path: string) => dispatch({\n    type: 'pickDataPath',\n    path,\n  });\n}\n\nexport function DroppedDataFile(dispatch: Dispatch) {\n  return (path: string, fileText: string) => {\n    try {\n      const json = JSON.parse(fileText);\n      return LoadedStatsAtPath(dispatch)(path, json);\n    } catch (error) {\n      alert(`JSON parse error. Unable to load stats file.\\n\\n${String(error)}\\n\\nCheck the console for full details.`);\n      return ErroredAtPath(dispatch)(path, error);\n    }\n  };\n}\n\nexport function RequestedDataAtPath(dispatch: Dispatch) {\n  return (path: string) => dispatch({\n    type: 'requestedDataAtPath',\n    path,\n  });\n}\n\nexport function LoadedStatsAtPath(dispatch: Dispatch) {\n  return (path: string, json: ParsedJSON) => {\n    try {\n      const children = getRawStats(json);\n      return dispatch({\n        type: 'loadedStatsAtPath',\n        path,\n        children,\n      });\n    } catch (error) {\n      alert(`Invalid stats file.\\n\\n${String(error)}\\n\\nCheck the console for full details.`);\n      return ErroredAtPath(dispatch)(path, error);\n    }\n  };\n}\n\nexport function ErroredAtPath(dispatch: Dispatch) {\n  return (path: string, error: Error | string) => dispatch({\n    type: 'erroredAtPath',\n    path,\n    error,\n  });\n}\n\nexport function fetchApiList(dispatch: Dispatch) {\n  return (endpoint: string) => {\n    fetchJSON(endpoint).then((json: ParsedJSON) => {\n      invariant(\n        json.paths,\n        `Missing field. Expected '{\"paths\": []}' key. Got: ${String(Object.keys(json))}`\n      );\n      invariant(\n        Array.isArray(json.paths),\n        `Invalid type. Expected \"paths\" to be an array of web urls. Got: ${JSON.stringify(json.paths)}`\n      );\n\n      DiscoveredDataPaths(dispatch)(json.paths.map(String));\n    }).catch((error) => {\n      // eslint-disable-next-line no-console\n      console.error(`Failed while fetching json from '${String(endpoint)}'.`, error);\n    });\n  };\n}\n\nexport function fetchDataFile(dispatch: Dispatch) {\n  return (endpoint: string) => {\n    PickDataPath(dispatch)(endpoint);\n    RequestedDataAtPath(dispatch)(endpoint);\n    fetchJSON(endpoint).then((json: ParsedJSON) => {\n      LoadedStatsAtPath(dispatch)(endpoint, json);\n    }).catch((error) => {\n      // eslint-disable-next-line no-console\n      console.error(`Failed while fetching json from '${String(endpoint)}'.`, error);\n      ErroredAtPath(dispatch)(endpoint, error);\n    });\n  };\n}\n\nexport function SortedTable(dispatch: Dispatch) {\n  return (field: SortableFields) => dispatch({\n    type: 'onSorted',\n    field,\n  });\n}\n\nexport function FilteredTable(dispatch: Dispatch) {\n  return (changes: {[key: FilterableFields]: string}) => dispatch({\n    type: 'onFiltered',\n    changes,\n  });\n}\n\nexport function PickedChild(dispatch: Dispatch) {\n  return (childIndex: number) => dispatch({\n    type: 'onPickedChild',\n    childIndex,\n  });\n}\n\nexport function PickedChunk(dispatch: Dispatch) {\n  return (chunkId: ChunkID) => dispatch({\n    type: 'onPickedChunk',\n    chunkId,\n  });\n}\n\nexport function RemovedModule(dispatch: Dispatch) {\n  return (moduleID: ModuleID) => dispatch({\n    type: 'onRemoveModule',\n    moduleID,\n  });\n}\n\nexport function IncludedModule(dispatch: Dispatch) {\n  return (moduleID: ModuleID) => dispatch({\n    type: 'onIncludeModule',\n    moduleID,\n  });\n}\n\nexport function ChangeExpandMode(dispatch: Dispatch) {\n  return (mode: 'manual' | 'expand-all' | 'collapse-all') => dispatch({\n    type: 'changeExpandRecordsMode',\n    mode,\n  });\n}\n\nexport function ExpandRecords(dispatch: Dispatch) {\n  return (moduleID: ModuleID) => dispatch({\n    type: 'onExpandRecords',\n    moduleID,\n  });\n}\n\nexport function CollapseRecords(dispatch: Dispatch) {\n  return (moduleID: ModuleID) => dispatch({\n    type: 'onCollapseRecords',\n    moduleID,\n  });\n}\n\nexport function FocusElement(dispatch: Dispatch) {\n  return (elementID: ?string) => dispatch({\n    type: 'onFocusChanged',\n    elementID,\n  });\n}\n","/*\n * @flow\n */\n\nimport type { Dispatch, State } from '../utils/reducer';\nimport type { Props, DispatchProps, StateProps } from './FileSelectors';\n\nimport FileSelectors from './FileSelectors';\nimport {connect} from 'react-redux';\nimport {\n  fetchDataFile,\n} from '../utils/actions';\n\nconst mapStateToProps = (state: State): StateProps => {\n  return {\n    dataPaths: Object.keys(state.dataPaths),\n    filename: state.selectedFilename,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch): DispatchProps => {\n  return {\n    onPickedFile: fetchDataFile(dispatch),\n  };\n};\n\nexport default connect<Props, {||}, _, _, _, _>(\n  mapStateToProps,\n  mapDispatchToProps\n)(FileSelectors);\n","/*\n * @flow\n */\n\nimport * as React from 'react';\n\nimport Octicon, { Book, MarkGithub } from '@github/octicons-react';\n\n\nexport default function Navbar() {\n  return (\n    <nav className=\"navbar navbar-expand navbar-dark bg-dark fixed-top\">\n      <a className=\"navbar-brand\" href=\"/\" onClick={(e: SyntheticEvent<>) => {\n        e.preventDefault();\n        window.location.hash = '';\n        window.location.reload();\n      }}>\n        Bonsai\n      </a>\n      <span className=\"navbar-text\">\n        Trim your dependency trees\n      </span>\n      <ul className=\"navbar-nav ml-auto\">\n        <li className=\"nav-item\">\n          <a className=\"nav-link\" href=\"https://pinterest.github.io/bonsai/\">\n            <Octicon icon={Book} />\n            &nbsp;\n            Docs\n          </a>\n        </li>\n        <li className=\"nav-item\">\n          <a className=\"nav-link\" href=\"https://github.com/pinterest/bonsai\">\n            <Octicon icon={MarkGithub} />\n            &nbsp;\n            Github\n          </a>\n        </li>\n      </ul>\n    </nav>\n  );\n}\n","/*\n * @flow\n */\n\nimport type {Module} from '../../types/Stats';\n\nimport * as React from 'react';\nimport {Link} from '../Bootstrap/Button';\nimport Octicon, { LinkExternal } from '@github/octicons-react';\n\ntype Props = {\n  prefix: ?string,\n  module: Module,\n};\n\nexport default function ExternalModuleLink(props: Props) {\n  if (props.prefix) {\n    const file = props.module.name;\n    const href = props.prefix + file;\n    return (\n      <Link href={href} newtab={true}>\n        <Octicon\n          icon={LinkExternal}\n          ariaLabel=\"Open in new window\" />\n      </Link>\n    );\n  } else {\n    return null;\n  }\n}\n","/*\n * @flow\n */\n\nimport './OffsetPageAnchor.css';\n\ntype MergeProps = {\n  className?: string,\n};\n\nexport default function OffsetPageAnchor(\n  anchor: string,\n  props: MergeProps = {},\n) {\n  return {\n    ...props,\n    className: ['OffsetPageAnchor', props.className].join(' '),\n    tabIndex: -1,\n    id: anchor,\n  };\n}\n","/*\n * @flow\n */\n\nimport * as React from 'react';\n\nconst NBSP = '\\u00A0';\n\ntype Props = {\n  bytes: number,\n  className?: string,\n  elem?: 'span' | 'td',\n};\n\nfunction formatBytes(bytes) {\n  if (bytes === 0) {\n    return '0 B';\n  }\n  const k = 1000;\n  const dm = 2;\n  const sizes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + NBSP + sizes[i];\n}\n\nfunction toInt(n: number) {\n  return String(parseInt(n, 10))\n    .split('')\n    .reverse()\n    .map((s, i) => s + (i % 3 ? '' : ','))\n    .reverse()\n    .join('')\n    .slice(0, -1);\n}\n\nexport default function Unit(props: Props) {\n  const Elem = props.elem || 'span';\n  return (\n    <Elem className={props.className} title={toInt(props.bytes) + ' bytes'}>\n      {formatBytes(props.bytes)}\n    </Elem>\n  );\n}\n","/*\n * @flow\n */\n\nimport type {ExtendedModule} from '../../types/Stats';\n\nimport Button from '../Bootstrap/Button';\nimport ExternalModuleLink from './ExternalModuleLink';\nimport OffsetPageAnchor from '../OffsetPageAnchor';\nimport React, { Component } from 'react';\nimport Unit from '../Unit';\nimport Octicon, { TriangleRight, TriangleDown } from '@github/octicons-react';\n\ntype Props = {\n  removedModules: Array<ExtendedModule>,\n};\n\ntype State = {\n  isOpen: boolean\n};\n\nexport default class BlacklistTableBody extends Component<Props, State> {\n  state: State = {\n    isOpen: false,\n  };\n\n  render() {\n    if (this.state.isOpen) {\n      return (\n        <tbody>\n          {this.renderHideRow()}\n          {this.props.removedModules.map((eModule, i) =>\n            <tr key={`blacklist-${i}`} {...OffsetPageAnchor(String(eModule.id))}>\n              <td className=\"align-middle\">\n                <ExternalModuleLink\n                  prefix={process.env.REACT_APP_EXTERNAL_URL_PREFIX}\n                  module={eModule}\n                />\n              </td>\n              <td className=\"align-middle\">\n                {eModule.name}\n              </td>\n              <Unit\n                elem='td'\n                className=\"align-middle text-right\"\n                bytes={eModule.size} />\n              <td colSpan=\"3\"></td>\n            </tr>\n          )}\n          {this.renderHideRow()}\n        </tbody>\n      );\n    } else if (this.props.removedModules.length > 0) {\n      return (\n        <tbody>\n          <tr>\n            <td colSpan=\"6\">\n              <Button\n                size=\"xs\"\n                onClick={() => this.setState({ isOpen: true })}>\n                <Octicon icon={TriangleRight} />\n                &nbsp;Show {this.props.removedModules.length} more removed modules\n              </Button>\n            </td>\n          </tr>\n        </tbody>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  renderHideRow() {\n    return (\n      <tr>\n        <td colSpan=\"6\">\n          <Button\n            size=\"xs\"\n            onClick={() => this.setState({ isOpen: false })}>\n            <Octicon icon={TriangleDown} />\n            &nbsp;Hide extra modules\n          </Button>\n        </td>\n      </tr>\n    );\n  }\n}\n","/*\n * @flow\n */\n\nimport * as React from 'react';\n\ntype PanelType = 'default' | 'light' | 'dark' | 'primary' | 'secondary' | 'success' | 'info' | 'warning' | 'danger';\n\ntype Props = {\n  heading?: React.Node,\n  children: React.Node,\n  type?: PanelType,\n  className?: string,\n};\n\nfunction panelTypeToClass(\n  color?: PanelType,\n  fallback: PanelType = 'light',\n): string {\n  return `card border border-${color || fallback}`;\n}\n\nfunction wrapChildren(children: React.Node): any{\n  return React.Children.map(children, (child) => {\n    if (\n      typeof child === 'object' &&\n      typeof child.props === 'object'\n    ) {\n      const className = child.props\n        ? String(child.props.className)\n        : '';\n      if (\n        className.includes('panel-body') ||\n        className.includes('table') ||\n        className.includes('list-group')\n      ) {\n        return child;\n      }\n    }\n\n    return (\n      <div className=\"card-body\">\n        {child}\n      </div>\n    );\n  });\n}\n\nexport default function Row(props: Props) {\n  const heading = props.heading\n    ? <div className={`card-header text-white bg-${props.type || 'light'}`}>\n      {props.heading}\n    </div>\n    : null;\n\n  return (\n    <div\n      className={`${panelTypeToClass(props.type)} ${props.className || ''}`}>\n      {heading}\n      {wrapChildren(props.children)}\n    </div>\n  );\n}\n","/*\n * @flow\n */\n\nimport * as React from 'react';\n\nconst ELLIPSIS = '\\u2026';\n\nfunction joinWithBR(\n  nodes: Array<React.Node>,\n  label: React.Node,\n  index: number,\n  values: Array<React.Node>,\n): Array<React.Node> {\n  if (index === values.length - 1) {\n    return nodes.concat(label);\n  } else {\n    return nodes.concat(label, <br key={index} />);\n  }\n}\n\nexport default function formatModuleName(name: string) {\n  const names = name.indexOf('multi ') === 0\n    ? name.split(' ')\n    : [name];\n\n  return names.map((name, i) => {\n    const parts = name.split('!');\n    const moduleName = parts.pop();\n\n    const loaders = parts.map((part) => {\n      const [loader, query] = part.split('?');\n      if (query) {\n        const shortQuery = query.length > 14\n          ? query.slice(0, 7) + ELLIPSIS + query.slice(-7)\n          : query;\n        return loader + '?' + shortQuery + '!';\n      }\n      return loader + '!';\n    });\n\n    const title = parts.length\n      ? parts.join('') + '!' + moduleName\n      : '';\n\n    return [\n      title\n        ? <span\n          key={'a' + i}\n          style={{color: '#aaa'}}\n          title={title}>{' '}{loaders.join('')}\n        </span>\n        : null,\n      title\n        ? <span key={'b' + i}\n          title={title}>\n          {moduleName}\n        </span>\n        : <span key={'b' + i}>\n          {moduleName}\n        </span>,\n    ];\n  }).filter(Boolean).reduce(joinWithBR, []);\n}\n","/*\n * @flow\n */\n\nimport type { Dispatch } from '../../utils/reducer';\nimport type { Props, OwnProps, DispatchProps } from './ModulePanels';\n\nimport {connect} from 'react-redux';\nimport {\n  FocusElement,\n} from '../../utils/actions';\nimport {\n  RequiredByPanel,\n  RequirementsPanel,\n} from './ModulePanels';\n\nconst mapDispatchToProps = (dispatch: Dispatch): DispatchProps => {\n  return {\n    onFocusChanged: FocusElement(dispatch),\n  };\n};\n\nexport const RequiredByPanelContainer = connect<Props, OwnProps, _, _, _, _>(\n  null,\n  mapDispatchToProps,\n)(RequiredByPanel);\n\nexport const RequirementsPanelContainer = connect<Props, OwnProps, _, _, _, _>(\n  null,\n  mapDispatchToProps,\n)(RequirementsPanel);\n","/*\n * @flow\n */\n\nimport type {ExtendedModule} from '../../types/Stats';\n\nimport Button from '../Bootstrap/Button';\nimport Dropdown from '../Bootstrap/Dropdown';\nimport formatModuleName from './formatModuleName';\nimport * as React from 'react';\n\nexport type OwnProps = {|\n  eModule: ExtendedModule,\n|};\n\nexport type DispatchProps = {|\n  onFocusChanged: (elementID: string) => void,\n|};\n\nexport type Props = {|\n  ...$Exact<OwnProps>,\n  ...$Exact<DispatchProps>,\n|};\n\nexport function RequiredByPanel(props: Props) {\n  return (\n    <Dropdown\n      align=\"right\"\n      color=\"link\"\n      size=\"sm\"\n      scrollable={true}\n      disabled={props.eModule.requiredBy.length === 0}\n      getContent={(hideContent: () => void) =>\n        props.eModule.requiredBy.map((reason) => (\n          <li key={reason.moduleId}>\n            <Button\n              color=\"link\"\n              display=\"block\"\n              onClick={(e) => {\n                e.preventDefault();\n                hideContent();\n                props.onFocusChanged(String(reason.moduleId));\n              }}>\n              <div className=\"text-left\">\n                {formatModuleName(reason.moduleName)}\n              </div>\n            </Button>\n          </li>\n        ))\n      }>\n      {props.eModule.requiredBy.length}\n      {' '}\n      <span className=\"caret\"></span>\n    </Dropdown>\n  );\n}\n\nexport function RequirementsPanel(props: Props) {\n  return (\n    <Dropdown\n      align=\"right\"\n      color=\"link\"\n      size=\"sm\"\n      scrollable={true}\n      disabled={props.eModule.requirements.length === 0}\n      getContent={(hideContent: () => void) =>\n        props.eModule.requirements.map((module) => (\n          <li key={module.id}>\n            <Button\n              color=\"link\"\n              display=\"block\"\n              onClick={(e) => {\n                e.preventDefault();\n                hideContent();\n                props.onFocusChanged(String(module.id));\n              }}>\n              <div className=\"text-left\">\n                {formatModuleName(module.name)}\n              </div>\n            </Button>\n          </li>\n        ))\n      }>\n      {props.eModule.requirements.length}\n      {' '}\n      <span className=\"caret\"></span>\n    </Dropdown>\n  );\n}\n","/*\n * @flow\n */\n\nimport type { Dispatch } from '../../utils/reducer';\nimport type { State } from '../../utils/reducer';\nimport type { Props, StateProps, DispatchProps } from './BlacklistTable';\n\nimport BlacklistTable from './BlacklistTable';\nimport { connect } from 'react-redux';\nimport { IncludedModule } from '../../utils/actions';\n\nconst mapStateToProps = (state: State): StateProps => {\n  return {\n    blacklistedModuleIds: state.blacklistedModuleIds,\n    moduleData: state.calculatedFullModuleData\n      ? state.calculatedFullModuleData.moduleData\n      : null,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch): DispatchProps => {\n  return {\n    onIncludeModule: IncludedModule(dispatch),\n  };\n};\n\nexport default connect<Props, {||}, _, _, _, _>(\n  mapStateToProps,\n  mapDispatchToProps\n)(BlacklistTable);\n","/*\n * @flow\n */\n\nimport type {ModuleID, ExtendedModule} from '../../types/Stats';\n\nimport BlacklistTableBody from './BlacklistTableBody';\nimport Button from '../Bootstrap/Button';\nimport Panel from '../Bootstrap/Panel';\nimport ExternalModuleLink from './ExternalModuleLink';\nimport OffsetPageAnchor from '../OffsetPageAnchor';\nimport * as React from 'react';\nimport Unit from '../Unit';\nimport {\n  RequiredByPanelContainer,\n  RequirementsPanelContainer,\n} from './ModulePanelContainers';\n\nexport type StateProps = {|\n  blacklistedModuleIds: Array<ModuleID>,\n  moduleData: ?{\n    included: Array<ExtendedModule>,\n    removed: Array<ExtendedModule>,\n  },\n|};\n\nexport type DispatchProps = {|\n  onIncludeModule: (moduleID: ModuleID) => void,\n|};\n\nexport type Props = {|\n  ...$Exact<StateProps>,\n  ...$Exact<DispatchProps>,\n|};\n\nexport default function BlasklistTable(props: Props) {\n  if (!props.moduleData || props.moduleData.removed.length === 0) {\n    return null;\n  }\n\n  const removed = props.moduleData.removed;\n\n  const blacklistedModuleIdStrings = props.blacklistedModuleIds.map(String);\n  const blacklistedModulesList = blacklistedModuleIdStrings.map(\n    (id) => removed.filter((module) => String(module.id) === id),\n  );\n  const removedModules = removed.filter(\n    (module) => !blacklistedModuleIdStrings.includes(String(module.id)),\n  );\n\n  const sum = removed.reduce(\n    (sum, module) => sum + module.size,\n    0,\n  );\n\n  return (\n    <Panel\n      className=\"my-3\"\n      type='danger'\n      heading={`${removed.length} Modules Ignored`}>\n      <table className=\"table table-sm table-hover\" cellPadding=\"0\" cellSpacing=\"0\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Name</th>\n            <th className=\"text-right\">Size</th>\n            <th className=\"text-right\">Dependants</th>\n            <th className=\"text-right\">Imports</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          {blacklistedModulesList.map((modules) =>\n            modules.map((eModule) => (\n              <tr key={eModule.id} {...OffsetPageAnchor(String(eModule.id))}>\n                <td className=\"align-middle\">\n                  <ExternalModuleLink\n                    prefix={process.env.REACT_APP_EXTERNAL_URL_PREFIX}\n                    module={eModule}\n                  />\n                </td>\n                <td className=\"align-middle\">\n                  {eModule.name}\n                </td>\n                <Unit\n                  elem='td'\n                  className=\"align-middle text-right\"\n                  bytes={eModule.size} />\n                <td className=\"align-middle text-right\">\n                  <RequiredByPanelContainer eModule={eModule} />\n                </td>\n                <td className=\"align-middle text-right\">\n                  <RequirementsPanelContainer eModule={eModule} />\n                </td>\n                <td className=\"align-middle\">\n                  <Button\n                    color=\"danger\"\n                    size=\"sm\"\n                    onClick={() => props.onIncludeModule(eModule.id)}>\n                    Restore\n                  </Button>\n                </td>\n              </tr>\n            ))\n          )}\n        </tbody>\n        <BlacklistTableBody removedModules={removedModules} />\n        <tfoot>\n          <tr>\n            <th></th>\n            <th className=\"text-right\">Removed Modules</th>\n            <td className=\"text-right\">{removed.length}</td>\n            <td colSpan=\"3\"></td>\n          </tr>\n          <tr>\n            <th></th>\n            <th className=\"text-right\">Total Size</th>\n            <Unit\n              elem='td'\n              className='text-right'\n              bytes={sum} />\n            <td colSpan=\"3\"></td>\n          </tr>\n        </tfoot>\n      </table>\n    </Panel>\n  );\n}\n","/*\n * @flow\n */\n\nimport type { State } from '../../utils/reducer';\nimport type { Props } from './ChunkBreadcrumb';\n\nimport { connect } from 'react-redux';\nimport ChunkBreadcrumb from './ChunkBreadcrumb';\n\nconst mapStateToProps = (state: State): Props => {\n  if (!state.calculatedFullModuleData) {\n    return {\n      parentChunks: [],\n      totalModules: 0,\n    };\n  }\n\n  const {\n    parentChunks,\n    moduleData,\n  }  = state.calculatedFullModuleData;\n  return {\n    parentChunks: (state.selectedChunkId !== null && parentChunks)\n      ? parentChunks\n      : [],\n    totalModules: moduleData\n      ? moduleData.included.length + moduleData.removed.length\n      : 0,\n  };\n};\n\nexport default connect<Props, {||}, _, _, _, _>(\n  mapStateToProps,\n  () => ({})\n)(ChunkBreadcrumb);\n","/*\n * @flow\n */\n\nimport type { Child } from '../../stats/getEntryHierarchy';\n\nimport * as React from 'react';\n\nexport type Props = {|\n  parentChunks: Array<Child>,\n  totalModules: number,\n|};\n\nexport default function ChunkBreadcrumb(props: Props) {\n  if (props.parentChunks.length === 0) {\n    return null;\n  }\n  return (\n    <ol className=\"breadcrumb\">\n      {props.parentChunks.map((chunk) => (\n        <li className=\"breadcrumb-item\" key={chunk.id}>\n          {chunk.name} ({String(chunk.id)})\n        </li>\n      ))}\n      {props.totalModules\n        ? <li className=\"breadcrumb-item active\">\n          {props.totalModules} modules\n        </li>\n        : null}\n    </ol>\n  );\n}\n","/*\n * @flow\n */\n\nimport type {ExtendedModule} from '../../types/Stats';\n\nimport formatModuleName from './formatModuleName';\nimport React, { Component } from 'react';\nimport Octicon, { TriangleRight, TriangleDown } from '@github/octicons-react';\nimport Button from '../Bootstrap/Button';\nimport Panel from '../Bootstrap/Panel';\n\nexport type Props = {|\n  extendedModules: Array<ExtendedModule>,\n|};\ntype State = {|\n  expanded: boolean,\n|};\n\nexport default class LoopTable extends Component<Props, State> {\n  state = {\n    expanded: false,\n  };\n\n  render() {\n    const props = this.props;\n\n    const loopingModules = props.extendedModules.filter(\n      (eModule) => eModule.loops.length\n    );\n\n    if (loopingModules.length === 0) {\n      return null;\n    }\n\n    const heading = (\n      <span>\n        <Button\n          color=\"link\"\n          size=\"sm\"\n          onClick={() => this.setState({expanded: !this.state.expanded})}>\n          <Octicon icon={this.state.expanded ? TriangleDown : TriangleRight} />\n          &nbsp;{loopingModules.length} Modules with circular dependencies\n        </Button>\n      </span>\n    );\n\n    return (\n      <Panel\n        className=\"my-3\"\n        type='warning'\n        heading={heading}>\n        {this.state.expanded\n          ? <ul className=\"list-group\">\n            {loopingModules.map((eModule) =>\n              <li key={eModule.identifier} className=\"list-group-item\">\n                {formatModuleName(eModule.name)}\n                {eModule.loops.map((loop) =>\n                  <ul key={eModule.id} className=\"list-group\">\n                    {loop.map((module) => formatModuleName(module.name))}\n                  </ul>\n                )}\n              </li>\n            )}\n          </ul>\n          : null}\n      </Panel>\n    );\n  }\n}\n","/*\n * @flow\n */\n\nimport type { State } from '../../utils/reducer';\nimport type { Props } from './LoopTable';\n\nimport { connect } from 'react-redux';\nimport LoopTable from './LoopTable';\n\nconst mapStateToProps = (state: State): Props => {\n  return {\n    extendedModules: state.calculatedFullModuleData\n      ? state.calculatedFullModuleData.extendedModules\n      : [],\n  };\n};\n\nexport default connect<Props, {||}, _, _, _, _>(\n  mapStateToProps,\n  () => ({})\n)(LoopTable);\n","/**\n * @flow\n */\n\nexport default function flatten(\n  arrOfArray: Array<Array<*>>,\n): Array<*> {\n  return [].concat.apply([], arrOfArray);\n}\n","/*\n * @flow\n */\n\nimport type {\n  ModuleID,\n  RowRepresentation,\n} from '../../types/Stats';\n\nimport Button from '../Bootstrap/Button';\nimport ExternalModuleLink from './ExternalModuleLink';\nimport formatModuleName from './formatModuleName';\nimport flatten from '../../utils/flatten';\nimport OffsetPageAnchor from '../OffsetPageAnchor';\nimport * as React from 'react';\nimport Unit from '../Unit';\nimport Octicon, { TriangleRight, TriangleDown } from '@github/octicons-react';\nimport {\n  RequiredByPanelContainer,\n  RequirementsPanelContainer,\n} from './ModulePanelContainers';\n\nimport './ModuleTableBody.css';\n\nexport type StateProps = {|\n  rows: Array<RowRepresentation>,\n  expandMode: 'manual' | 'collapse-all' | 'expand-all',\n  expandedRecords: Set<ModuleID>,\n|};\n\nexport type DispatchProps = {|\n  onRemoveModule: (moduleID: ModuleID) => void,\n  onExpandRecords: (moduleID: ModuleID) => void,\n  onCollapseRecords: (moduleID: ModuleID) => void,\n|};\n\nexport type Props = {|\n  ...$Exact<StateProps>,\n  ...$Exact<DispatchProps>,\n|};\n\ntype GroupedTRProps = {\n  row: RowRepresentation,\n  expanded: boolean,\n  onRemoveModule: (moduleID: ModuleID) => void,\n  onExpandRecords: (moduleID: ModuleID) => void,\n  onCollapseRecords: (moduleID: ModuleID) => void,\n};\n\ntype TRProps = {\n  row: RowRepresentation,\n  expanded: boolean,\n  onRemoveModule: (moduleID: ModuleID) => void,\n  onExpandRecords: (moduleID: ModuleID) => void,\n  onCollapseRecords: (moduleID: ModuleID) => void,\n};\n\nfunction getExpandButton(\n  expanded: boolean,\n  recordCount: number,\n  callback: Function,\n) {\n  return (\n    <span className=\"float-right\">\n      <Button\n        color=\"link\"\n        size=\"xs\"\n        onClick={callback}>\n        <Octicon icon={expanded ? TriangleDown : TriangleRight} />\n        &nbsp;\n        {`${recordCount} unique imports`}\n      </Button>\n    </span>\n  );\n}\n\nfunction ModuleTableGroupedRows(props: GroupedTRProps): Array<*> {\n  return props.expanded\n    ? props.row.records.map((record) => (\n      <ModuleTableRow\n        key={record.id}\n        row={{\n          ...props.row,\n          displayModule: record,\n        }}\n        expanded={props.expanded}\n        onRemoveModule={props.onRemoveModule}\n        onExpandRecords={props.onExpandRecords}\n        onCollapseRecords={props.onCollapseRecords}\n      />\n    ))\n    : [\n      <ModuleTableRow\n        key={props.row.displayModule.id}\n        row={props.row}\n        expanded={props.expanded}\n        onRemoveModule={props.onRemoveModule}\n        onExpandRecords={props.onExpandRecords}\n        onCollapseRecords={props.onCollapseRecords}\n      />\n    ];\n}\n\nfunction ModuleTableRow(props: TRProps) {\n  const eModule = props.row.displayModule;\n  const records = props.row.records;\n  const collapsedSizeBytes = props.row.collapsedSizeBytes;\n\n  const moduleSizeBytes = props.expanded\n    ? eModule.size\n    : collapsedSizeBytes;\n\n  const hasCollapsedChildren = records.length > 1;\n  const isFirstRecord = eModule.id === records[0].id;\n  const uniqueImports = (hasCollapsedChildren && isFirstRecord)\n    ? getExpandButton(\n      props.expanded,\n      records.length - 1,\n      props.expanded\n        ? () => props.onCollapseRecords(eModule.id)\n        : () => props.onExpandRecords(eModule.id)\n    )\n    : null;\n\n  return (\n    <tr\n      key={eModule.id}\n      {...OffsetPageAnchor(String(eModule.id), {\n        className: [\n          'ModuleTableBody-row',\n          props.expanded && records.length > 1\n            ? 'ModuleTableBody-expanded-border'\n            : null,\n        ].join(' ')\n      })}\n    >\n      {process.env.REACT_APP_EXTERNAL_URL_PREFIX\n        ? <td className=\"align-middle\">\n          <ExternalModuleLink\n            prefix={process.env.REACT_APP_EXTERNAL_URL_PREFIX}\n            module={eModule}\n          />\n        </td>\n        : null}\n      <td className=\"align-middle ModuleTableBody-main-cell\">\n        {uniqueImports}\n        {formatModuleName(eModule.name)}\n      </td>\n      <Unit\n        elem='td'\n        className=\"align-middle text-right\"\n        bytes={eModule.cumulativeSize} />\n      <Unit\n        elem='td'\n        className=\"align-middle text-right\"\n        bytes={moduleSizeBytes} />\n      <td className=\"align-middle text-right\">\n        <RequiredByPanelContainer eModule={eModule} />\n      </td>\n      <td className=\"align-middle text-right\">\n        <RequirementsPanelContainer eModule={eModule} />\n      </td>\n      <td className=\"align-middle\">\n        <Button size='sm' onClick={() => props.onRemoveModule(eModule.id)}>\n          Ignore\n        </Button>\n      </td>\n    </tr>\n  );\n}\n\nexport default function ModuleTableBody(props: Props) {\n  return (\n    <tbody>\n      {flatten(\n        props.rows.map((row: RowRepresentation) => ModuleTableGroupedRows({\n          row: row,\n          expanded: props.expandMode === 'expand-all' ||\n            (props.expandMode === 'manual' && props.expandedRecords.has(row.displayModule.id)),\n          onRemoveModule: props.onRemoveModule,\n          onExpandRecords: props.onExpandRecords,\n          onCollapseRecords: props.onCollapseRecords,\n        }))\n      )}\n    </tbody>\n  );\n}\n","/*\n * @flow\n */\n\nimport type {ModuleID, ExtendedModule} from '../types/Stats';\n\nexport default function getModulesById(\n  modules: Array<ExtendedModule>,\n): {[key: ModuleID]: ExtendedModule} {\n  const modulesById = {};\n  modules.forEach((module) => {\n    modulesById[module.id] = module;\n  });\n  return modulesById;\n}\n","/**\n * @flow\n */\n\nimport type {\n  ExtendedModule,\n  RowRepresentation,\n} from '../types/Stats';\nimport type { ExtendedModulesById } from './getExtendedModulesById';\n\nimport getModulesById from './getModulesById';\nimport flatten from '../utils/flatten';\n\nfunction collectSingleChildrenOf(\n  modulesById: ExtendedModulesById,\n  module: ExtendedModule,\n): Array<ExtendedModule> {\n  return flatten(\n    module.requirements.map((requiredModule) => {\n      const eReqModule = modulesById[requiredModule.id];\n\n      if (eReqModule && eReqModule.requiredByCount === 1) {\n        return [\n          eReqModule,\n          ...collectSingleChildrenOf(modulesById, eReqModule)\n        ];\n      } else {\n        return [];\n      }\n    })\n  );\n}\n\nexport default function(\n  modules: Array<ExtendedModule>,\n): Array<RowRepresentation> {\n  const modulesById = getModulesById(modules);\n\n  return modules.filter((eModule) => {\n    return eModule.requiredByCount !== 1;\n  }).map((eModule) => {\n    const records = [eModule, ...collectSingleChildrenOf(modulesById, eModule)];\n    return {\n      displayModule: eModule,\n      records: records,\n      collapsedSizeBytes: records.reduce((sum, eModule) => sum + eModule.size, 0),\n    };\n  });\n}\n","/**\n * @flow\n */\n\nimport type {ExtendedModule} from '../types/Stats';\n\nexport type FilterProps = {\n  moduleName: string,\n  cumulativeSizeMin: string,\n  cumulativeSizeMax: string,\n  requiredByCountMin: string,\n  requiredByCountMax: string,\n  requirementsCountMin: string,\n  requirementsCountMax: string,\n};\n\nexport type FilterableFields = $Keys<FilterProps>;\n\ntype FilterMethod = (eModule: ExtendedModule) => boolean;\n\nfunction makeRecordLikeRegExpFilter(field: string, re: RegExp | ''): FilterMethod {\n  return function(eModule: ExtendedModule): boolean {\n    if (re && !re.test(eModule[field])) {\n      return false;\n    }\n    return true;\n  };\n}\n\nfunction toNumber(value: string): number | '' {\n  return value === '' ? '' : Number(value);\n}\n\nfunction makeRecordRangeFilter(\n  field: string,\n  min: number | '',\n  max: number | '',\n): FilterMethod {\n  return function(eModule: ExtendedModule): boolean {\n    if (min !== '' && max !== '') {\n      return eModule[field] >= min && eModule[field] <= max;\n    }\n    if (min !== '') {\n      return eModule[field] >= min;\n    }\n    if (max !== '') {\n      return eModule[field] <= max;\n    }\n    return true;\n  };\n}\n\nexport default function filterModules(\n  extendedModules: Array<ExtendedModule>,\n  filters: FilterProps,\n): Array<ExtendedModule> {\n  return extendedModules\n    .filter(makeRecordLikeRegExpFilter(\n      'name',\n      new RegExp(filters.moduleName),\n    ))\n    .filter(makeRecordRangeFilter(\n      'cumulativeSize',\n      toNumber(filters.cumulativeSizeMin),\n      toNumber(filters.cumulativeSizeMax),\n    ))\n    .filter(makeRecordRangeFilter(\n      'requiredByCount',\n      toNumber(filters.requiredByCountMin),\n      toNumber(filters.requiredByCountMax),\n    ))\n    .filter(makeRecordRangeFilter(\n      'requirementsCount',\n      toNumber(filters.requirementsCountMin),\n      toNumber(filters.requirementsCountMax),\n    ));\n}\n","/**\n * @flow\n */\n\nimport type {ExtendedModule} from '../types/Stats';\n\nexport type SortableFields = $Keys<ExtendedModule>;\nexport type SortDirection = 'ASC' | 'DESC';\n\nexport type SortProps = {\n  field: SortableFields,\n  direction: SortDirection,\n};\n\ntype SortResult = -1 | 0 | 1;\n\nfunction checkDirection(\n  direction: SortDirection,\n  sort: SortResult,\n): SortResult {\n  if (sort === 0 || direction === 'ASC') {\n    return sort;\n  } else {\n    return sort > 0 ? -1 : 1;\n  }\n}\n\n// flowlint-next-line unclear-type:off\nfunction compare(a: any, b: any): SortResult {\n  return (a === b ? 0 : (a > b ? 1 : -1));\n}\n\nexport default function sortModules(\n  extendedModules: Array<ExtendedModule>,\n  sort: SortProps,\n): Array<ExtendedModule> {\n  return extendedModules\n    .sort((a: ExtendedModule, b: ExtendedModule) => {\n      const {field, direction} = sort;\n\n      return checkDirection(direction, compare(a[field], b[field]));\n    });\n}\n","/*\n * @flow\n */\n\nimport type { Dispatch, State } from '../../utils/reducer';\nimport type { Props, DispatchProps, StateProps } from './ModuleTableBody';\nimport type { ExtendedModule } from '../../types/Stats';\nimport type { FilterProps } from '../../stats/filterModules';\nimport type { RowRepresentation } from '../../types/Stats';\nimport type { SortProps } from '../../stats/sortModules';\n\nimport { connect } from 'react-redux';\nimport ModuleTableBody from './ModuleTableBody';\nimport {\n  RemovedModule,\n  ExpandRecords,\n  CollapseRecords,\n} from '../../utils/actions';\nimport collapseModulesToRows from '../../stats/collapseModulesToRows';\nimport filterModules from '../../stats/filterModules';\nimport sortModules from '../../stats/sortModules';\n\nfunction getRows(\n  extendedModules: Array<ExtendedModule>,\n  filters: FilterProps,\n  sort: SortProps,\n): Array<RowRepresentation> {\n  const rows = collapseModulesToRows(\n    sortModules(\n      filterModules(\n        extendedModules,\n        filters,\n      ),\n      sort,\n    ),\n  );\n  rows.forEach((row) => {\n    row.records = sortModules(row.records, sort);\n  });\n  return rows;\n}\n\nconst mapStateToProps = (state: State): StateProps => {\n  return {\n    rows: getRows(\n      (state.calculatedFullModuleData || {}).extendedModules,\n      state.filters,\n      state.sort,\n    ),\n    expandMode: state.expandMode,\n    expandedRecords: state.expandedRecords,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch): DispatchProps => {\n  return {\n    onRemoveModule: RemovedModule(dispatch),\n    onExpandRecords: ExpandRecords(dispatch),\n    onCollapseRecords: CollapseRecords(dispatch),\n  };\n};\n\nexport default connect<Props, {||}, _, _, _, _>(\n  mapStateToProps,\n  mapDispatchToProps,\n)(ModuleTableBody);\n","/*\n * @flow\n */\n\nimport type {FilterProps} from '../../stats/filterModules';\n\nimport * as React from 'react';\n\nconst INFINITY = '\\u221E';\n\ntype Props = {\n  filters: FilterProps,\n  onChangeMin: (event: SyntheticInputEvent<>) => void,\n  onChangeMax: (event: SyntheticInputEvent<>) => void,\n};\n\nexport default function FilterCumulativeSizeForm(props: Props) {\n  return (\n    <div className=\"col-sm-12\">\n      <label\n        className=\"sr-only\"\n        htmlFor=\"filter-cumulativeSize-min\">\n        Min (bytes)\n      </label>\n      <label\n        className=\"sr-only\"\n        htmlFor=\"filter-cumulativeSize-max\">\n        Max (bytes)\n      </label>\n      <div className=\"input-group\">\n        <input\n          className=\"form-control\"\n          style={{width: '100px'}}\n          id=\"filter-cumulativeSize-min\"\n          onChange={props.onChangeMin}\n          placeholder=\"0 bytes\"\n          type=\"text\"\n          value={props.filters.cumulativeSizeMin}\n        />\n        <div className=\"input-group-addon\"><code>&lt; size &lt;</code></div>\n        <input\n          className=\"form-control\"\n          style={{width: '100px'}}\n          id=\"filter-cumulativeSize-max\"\n          onChange={props.onChangeMax}\n          placeholder={`${INFINITY} bytes`}\n          type=\"text\"\n          value={props.filters.cumulativeSizeMax}\n        />\n      </div>\n    </div>\n  );\n}\n","/*\n * @flow\n */\n\nimport * as React from 'react';\nimport {CloseButton} from '../Bootstrap/Button';\n\ntype Props = {\n  children: React.Node,\n  title: string,\n  isFiltered: boolean,\n  onClear: (e: MouseEvent) => void,\n};\n\nexport default function FilterDisplay(props: Props) {\n  return (\n    <span title={props.title}>\n      {props.children}\n      {props.isFiltered ?\n        <span style={{paddingLeft: '5px'}} title=\"Clear filter\">\n          <CloseButton label=\"Clear\" onClick={props.onClear} />\n        </span>\n        : null}\n    </span>\n  );\n}\n","/*\n * @flow\n */\n\nimport type {FilterProps} from '../../stats/filterModules';\n\nimport * as React from 'react';\n\ntype Props = {\n  filters: FilterProps,\n  onChange: (event: SyntheticInputEvent<>) => void,\n};\n\nexport default function FilterModuleNameForm(props: Props) {\n  return (\n    <div className=\"col-sm-12\">\n      <label className=\"sr-only\" htmlFor=\"filter-moduleName-like\">Matches RegExp</label>\n      <div className=\"input-group\">\n        <div className=\"input-group-addon\"><code>new RegExp(</code></div>\n        <input\n          className=\"form-control\"\n          style={{width: '100px'}}\n          id=\"filter-moduleName-like\"\n          onChange={props.onChange}\n          placeholder=\".*\"\n          type=\"text\"\n          value={props.filters.moduleName || ''}\n        />\n        <div className=\"input-group-addon\"><code>)</code></div>\n      </div>\n    </div>\n  );\n}\n\n","/*\n * @flow\n */\n\nimport type {FilterProps} from '../../stats/filterModules';\n\nimport * as React from 'react';\n\nconst INFINITY = '\\u221E';\n\ntype Props = {\n  filters: FilterProps,\n  onChangeMin: (event: SyntheticInputEvent<>) => void,\n  onChangeMax: (event: SyntheticInputEvent<>) => void,\n};\n\nexport default function FilterRequiredByCountForm(props: Props) {\n  return (\n    <div className=\"col-sm-12\">\n      <label\n        className=\"sr-only\"\n        htmlFor=\"filter-requiredByCount-min\">\n        Min (bytes)\n      </label>\n      <label\n        className=\"sr-only\"\n        htmlFor=\"filter-requiredByCount-max\">\n        Max (bytes)\n      </label>\n      <div className=\"input-group\">\n        <input\n          className=\"form-control\"\n          style={{width: '100px'}}\n          id=\"filter-requiredByCount-min\"\n          onChange={props.onChangeMin}\n          placeholder=\"0\"\n          type=\"text\"\n          value={props.filters.requiredByCountMin}\n        />\n        <div className=\"input-group-addon\"><code>&lt; requirements &lt;</code></div>\n        <input\n          className=\"form-control\"\n          style={{width: '100px'}}\n          id=\"filter-requiredByCount-max\"\n          onChange={props.onChangeMax}\n          placeholder={INFINITY}\n          type=\"text\"\n          value={props.filters.requiredByCountMax}\n        />\n      </div>\n    </div>\n  );\n}\n","/*\n * @flow\n */\n\nimport type {FilterProps} from '../../stats/filterModules';\n\nimport * as React from 'react';\n\nconst INFINITY = '\\u221E';\n\ntype Props = {\n  filters: FilterProps,\n  onChangeMin: (event: SyntheticInputEvent<>) => void,\n  onChangeMax: (event: SyntheticInputEvent<>) => void,\n};\n\nexport default function FilterRequirementsCountForm(props: Props) {\n  return (\n    <div className=\"col-sm-12\">\n      <label\n        className=\"sr-only\"\n        htmlFor=\"filter-requirementsCount-min\">\n        Min (bytes)\n      </label>\n      <label\n        className=\"sr-only\"\n        htmlFor=\"filter-requirementsCount-max\">\n        Max (bytes)\n      </label>\n      <div className=\"input-group\">\n        <input\n          className=\"form-control\"\n          style={{width: '100px'}}\n          id=\"filter-requirementsCount-min\"\n          onChange={props.onChangeMin}\n          placeholder=\"0\"\n          type=\"text\"\n          value={props.filters.requirementsCountMin}\n        />\n        <div className=\"input-group-addon\"><code>&lt; imports &lt;</code></div>\n        <input\n          className=\"form-control\"\n          style={{width: '100px'}}\n          id=\"filter-requirementsCount-max\"\n          onChange={props.onChangeMax}\n          placeholder={INFINITY}\n          type=\"text\"\n          value={props.filters.requirementsCountMax}\n        />\n      </div>\n    </div>\n  );\n}\n","/*\n * @flow\n */\n\nimport * as React from 'react';\n\nimport type { SortProps } from '../stats/sortModules';\n\nimport Octicon, { ArrowDown, ArrowUp } from '@github/octicons-react';\n\nconst NBSP = '\\u00A0';\n\nexport type SortType = 'alpha' | 'order' | 'size';\n\ntype Props = {\n  field: string,\n  fieldType?: SortType,\n  sort: SortProps,\n  children?: string | React.Element<any>,\n};\n\nexport default function SortLabel(props: Props) {\n  const isSameField = props.sort.field === props.field;\n\n  return (\n    <div>\n      {isSameField\n        ? <Octicon icon={props.sort.direction === 'ASC' ? ArrowUp : ArrowDown} />\n        : null}\n      {isSameField ? NBSP : null}\n      {props.children}\n    </div>\n  );\n}\n","/*\n * @flow\n */\n\nimport type {\n  FilterableFields,\n  FilterProps,\n} from '../../stats/filterModules';\n\nimport type { SortProps, SortableFields } from '../../stats/sortModules';\n\nimport Button from '../Bootstrap/Button';\nimport Dropdown from '../Bootstrap/Dropdown';\nimport FilterCumulativeSizeForm from './FilterCumulativeSizeForm';\nimport FilterDisplay from './FilterDisplay';\nimport FilterModuleNameForm from './FilterModuleNameForm';\nimport FilterRequiredByCountForm from './FilterRequiredByCountForm';\nimport FilterRequirementsCountForm from './FilterRequirementsCountForm';\nimport * as React from 'react';\nimport SortLabel from '../SortLabel';\n\nconst INFINITY = '\\u221E';\nconst NBSP = '\\u00A0';\n\nexport type StateProps = {|\n  filters: FilterProps,\n  sort: SortProps,\n|};\n\nexport type DispatchProps = {|\n  onFilter: (changes: {[key: FilterableFields]: string}) => void,\n  onSort: (field: SortableFields) => void,\n|};\n\nexport type Props = {|\n  ...$Exact<StateProps>,\n  ...$Exact<DispatchProps>,\n|};\n\nexport default function ModuleTableHead(props: Props) {\n  return (\n    <thead>\n      <tr>\n        {process.env.REACT_APP_EXTERNAL_URL_PREFIX\n          ? <th></th>\n          : null}\n        <th>\n          <Button color=\"link\" display=\"block\" onClick={() => props.onSort('name')}>\n            <div className=\"text-left\">\n              <SortLabel\n                field=\"name\"\n                fieldType='alpha'\n                sort={props.sort}>\n                Module Name\n              </SortLabel>\n            </div>\n          </Button>\n          <Dropdown\n            color=\"link\"\n            getContent={() => (\n              <FilterModuleNameForm\n                filters={props.filters}\n                onChange={(e) => props.onFilter({moduleName: e.target.value})}\n              />\n            )}>\n            <FilterDisplay\n              title=\"Click to filter by module name\"\n              onClear={() => props.onFilter({moduleName: ''})}\n              isFiltered={!!props.filters.moduleName}>\n              {'new RegExp('}\n              {props.filters.moduleName\n                ? props.filters.moduleName\n                : '.*'}\n              {')'}\n            </FilterDisplay>\n          </Dropdown>\n        </th>\n        <th className=\"align-top text-right\">\n          <Button color=\"link\" display=\"block\" onClick={() => props.onSort('cumulativeSize')}>\n            <div className=\"text-right\">\n              <SortLabel\n                field=\"cumulativeSize\"\n                fieldType='size'\n                sort={props.sort}>\n                Weighted\n              </SortLabel>\n            </div>\n          </Button>\n          <Dropdown\n            color=\"link\"\n            getContent={() => (\n              <FilterCumulativeSizeForm\n                filters={props.filters}\n                onChangeMin={(e) => props.onFilter({cumulativeSizeMin: e.target.value})}\n                onChangeMax={(e) => props.onFilter({cumulativeSizeMax: e.target.value})}\n              />\n            )}>\n            <FilterDisplay\n              title=\"Click to filter by weighted score\"\n              onClear={() => {\n                props.onFilter({\n                  cumulativeSizeMin: '',\n                  cumulativeSizeMax: '',\n                });\n              }}\n              isFiltered={!!(props.filters.cumulativeSizeMin || props.filters.cumulativeSizeMax)}>\n              {props.filters.cumulativeSizeMin || 0}\n              {NBSP + '<' + NBSP}\n              {props.filters.cumulativeSizeMax || INFINITY}\n            </FilterDisplay>\n          </Dropdown>\n        </th>\n        <th className=\"align-top text-right\">\n          <Button color=\"link\" display=\"block\" onClick={() => props.onSort('size')}>\n            <div className=\"text-right\">\n              <SortLabel\n                field=\"size\"\n                fieldType='size'\n                sort={props.sort}>\n                Size\n              </SortLabel>\n            </div>\n          </Button>\n        </th>\n        <th className=\"align-top text-right\">\n          <Button color=\"link\" display=\"block\" onClick={() => props.onSort('requiredByCount')}>\n            <div className=\"text-right\">\n              <SortLabel\n                field=\"requiredByCount\"\n                fieldType='size'\n                sort={props.sort}>\n                Dependants\n              </SortLabel>\n            </div>\n          </Button>\n          <Dropdown\n            align=\"right\"\n            color=\"link\"\n            getContent={() => (\n              <FilterRequiredByCountForm\n                filters={props.filters}\n                onChangeMin={(e) => props.onFilter({requiredByCountMin: e.target.value})}\n                onChangeMax={(e) => props.onFilter({requiredByCountMax: e.target.value})}\n              />\n            )}>\n            <FilterDisplay\n              title=\"Click to filter by dependants\"\n              onClear={() => {\n                props.onFilter({\n                  requiredByCountMin: '',\n                  requiredByCountMax: '',\n                });\n              }}\n              isFiltered={!!(props.filters.requiredByCountMin || props.filters.requiredByCountMax)}>\n              {props.filters.requiredByCountMin || 0}\n              {NBSP + '<' + NBSP}\n              {props.filters.requiredByCountMax || INFINITY}\n            </FilterDisplay>\n          </Dropdown>\n        </th>\n        <th className=\"align-top text-right\">\n          <Button color=\"link\" display=\"block\" onClick={() => props.onSort('requirementsCount')}>\n            <div className=\"text-right\">\n              <SortLabel\n                field=\"requirementsCount\"\n                fieldType='size'\n                sort={props.sort}>\n                Imports\n              </SortLabel>\n            </div>\n          </Button>\n          <Dropdown\n            align=\"right\"\n            color=\"link\"\n            getContent={() => (\n              <FilterRequirementsCountForm\n                filters={props.filters}\n                onChangeMin={(e) => props.onFilter({requirementsCountMin: e.target.value})}\n                onChangeMax={(e) => props.onFilter({requirementsCountMax: e.target.value})}\n              />\n            )}>\n            <FilterDisplay\n              title=\"Click to filter by requirements\"\n              onClear={() => {\n                props.onFilter({\n                  requirementsCountMin: '',\n                  requirementsCountMax: '',\n                });\n              }}\n              isFiltered={!!(props.filters.requirementsCountMin || props.filters.requirementsCountMax)}>\n              {props.filters.requirementsCountMin || 0}\n              {NBSP + '<' + NBSP}\n              {props.filters.requirementsCountMax || INFINITY}\n            </FilterDisplay>\n          </Dropdown>\n        </th>\n        <th></th>\n      </tr>\n    </thead>\n  );\n}\n","/*\n * @flow\n */\n\nimport type { Dispatch, State } from '../../utils/reducer';\nimport type { Props, DispatchProps, StateProps } from './ModuleTableHead';\n\nimport { connect } from 'react-redux';\nimport ModuleTableHead from './ModuleTableHead';\nimport {\n  FilteredTable,\n  SortedTable,\n} from '../../utils/actions';\n\nconst mapStateToProps = (state: State): StateProps => {\n  return {\n    filters: state.filters,\n    sort: state.sort,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch): DispatchProps => {\n  return {\n    onFilter: FilteredTable(dispatch),\n    onSort: SortedTable(dispatch),\n  };\n};\n\nexport default connect<Props, {||}, _, _, _, _>(\n  mapStateToProps,\n  mapDispatchToProps,\n)(ModuleTableHead);\n","/*\n * @flow\n */\n\nexport default function scrollToAndFocus(target: HTMLElement | string) {\n  const elem = scrollTo(target);\n  if (elem) {\n    elem.focus();\n  }\n}\n\nexport function scrollTo(target: HTMLElement | string): ?HTMLElement {\n  if (target instanceof HTMLElement) {\n    scrollToElem(target);\n    return target;\n  } else {\n    const elem = document.getElementById(target);\n    if (elem) {\n      scrollToElem(elem);\n      return elem;\n    }\n  }\n  return null;\n}\n\nfunction getScrollParent(element: HTMLElement, includeHidden: boolean = false): HTMLElement | null {\n  var style = getComputedStyle(element);\n  var excludeStaticParent = style.position === 'absolute';\n  var overflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/;\n\n  if (style.position === 'fixed') {\n    return document.body;\n  }\n  // eslint-disable-next-line no-cond-assign\n  for (var parent = element; (parent = parent.parentElement);) {\n    style = getComputedStyle(parent);\n    if (excludeStaticParent && style.position === 'static') {\n      continue;\n    }\n    if (overflowRegex.test(style.overflow + style.overflowY + style.overflowX)) {\n      return parent instanceof HTMLElement\n        ? parent\n        : null;\n    }\n  }\n\n  return document.body;\n}\n\nfunction findPos(obj: HTMLElement) {\n  let curtop = 0;\n  let elem = obj;\n  if (elem.offsetParent) {\n    do {\n      if (elem instanceof HTMLElement) {\n        curtop += elem.offsetTop;\n      }\n      elem = elem.offsetParent;\n    } while (elem);\n    return curtop;\n  }\n  return elem.offsetTop;\n}\n\nfunction isWithinViewport(\n  viewportTop: number,\n  viewportHeight: number,\n  targetTop: number,\n  targetHeight: number,\n): boolean {\n  return (\n    viewportTop < targetTop &&\n    targetTop < viewportTop + viewportHeight - targetHeight\n  );\n}\n\nexport function scrollToElem(elem: HTMLElement) {\n  const left = 0;\n  const top = findPos(elem);\n  const scrollParent = getScrollParent(elem);\n  if (scrollParent) {\n    if (scrollParent === document.body) {\n      if (!isWithinViewport(\n        window.scrollY,\n        window.innerHeight,\n        top,\n        elem.offsetHeight,\n      )) {\n        window.scroll(left, top);\n      }\n    } else {\n      if (!isWithinViewport(\n        scrollParent.scrollTop,\n        scrollParent.offsetHeight,\n        top,\n        elem.offsetHeight,\n      )) {\n        scrollParent.scrollTop = top;\n      }\n    }\n  }\n}\n","/*\n * @flow\n */\n\nimport type { Dispatch } from '../../utils/reducer';\nimport type { ExpandMode, State } from '../../utils/reducer';\n\nimport Button from '../Bootstrap/Button';\nimport Dropdown from '../Bootstrap/Dropdown';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport {\n  ChangeExpandMode,\n} from '../../utils/actions';\n\ntype OwnProps = {||};\n\ntype StateProps = {|\n  expandMode: ExpandMode,\n|};\n\ntype DispatchProps = {|\n  onChangedExpandMode: (mode: ExpandMode) => void,\n|};\n\nexport type Props = {|\n  ...$Exact<StateProps>,\n  ...$Exact<DispatchProps>,\n|};\n\nfunction ModeOption(props) {\n  const isSetToTarget = props.nextMode === props.expandMode;\n\n  return (\n    <Button\n      color=\"link\"\n      size=\"block\"\n      style={{textAlign: 'left'}}\n      onClick={(e) => {\n        e.preventDefault();\n        props.onPickMode(props.nextMode);\n      }}>\n      <input type='checkbox' checked={isSetToTarget ? 'check' : ''} />\n      {' '}\n      {props.nextMode === 'expand-all' ? 'Expand' : 'Collapse'} All\n    </Button>\n  );\n}\n\nexport function ToggleExpandModeButton(props: Props) {\n  return (\n    <Dropdown\n      align='right'\n      color='light'\n      size='xs'\n      getContent={(hideContent) => {\n        const pickedMode = (mode) => {\n          hideContent();\n          props.onChangedExpandMode(mode);\n        };\n\n        return [\n          <li key='expand-all'>\n            <ModeOption\n              expandMode={props.expandMode}\n              nextMode={'expand-all'}\n              onPickMode={pickedMode}\n            />\n          </li>,\n          <li key='collapse-all'>\n            <ModeOption\n              expandMode={props.expandMode}\n              nextMode={'collapse-all'}\n              onPickMode={pickedMode}\n            />\n          </li>,\n        ];\n      }}>\n      Unqiue Imports\n      {' '}\n      <span className=\"caret\"></span>\n    </Dropdown>\n  );\n}\n\nconst mapStateToProps = (state: State): StateProps => {\n  return {\n    expandMode: state.expandMode,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch): DispatchProps => {\n  return {\n    onChangedExpandMode: ChangeExpandMode(dispatch),\n  };\n};\n\nexport default connect<Props, OwnProps, _, _, _, _>(\n  mapStateToProps,\n  mapDispatchToProps,\n)(ToggleExpandModeButton);\n","/*\n * @flow\n */\n\nimport * as React from 'react';\nimport ModuleTableBodyContainer from './ModuleTableBodyContainer';\nimport ModuleTableHeadContainer from './ModuleTableHeadContainer';\nimport Panel from '../Bootstrap/Panel';\nimport scrollToAndFocus from '../../utils/scrollToAndFocus';\nimport ToggleExpandModeButton from './ToggleExpandModeButton';\n\nexport type Props = {|\n  modulesIncludedLabel: ?string,\n  focusedRowID: ?string,\n|};\n\nexport default class ModuleTable extends React.PureComponent<Props> {\n  componentDidUpdate() {\n    if (this.props.focusedRowID) {\n      scrollToAndFocus(this.props.focusedRowID);\n    }\n  }\n\n  render() {\n    const props = this.props;\n    if (!props.modulesIncludedLabel) {\n      return null;\n    }\n\n    return (\n      <Panel\n        className=\"my-3\"\n        type='primary'\n        heading={(\n          <div>\n            <div className=\"float-right\">\n              <ToggleExpandModeButton />\n            </div>\n            {props.modulesIncludedLabel}\n          </div>\n        )}>\n        <table className=\"table table-sm table-bordered table-hover\" cellPadding=\"0\" cellSpacing=\"0\">\n          <ModuleTableHeadContainer />\n          <ModuleTableBodyContainer />\n        </table>\n      </Panel>\n    );\n  }\n}\n","/*\n * @flow\n */\n\nimport type { State } from '../../utils/reducer';\nimport type { Props as StateProps } from './ModuleTable';\n\nimport { connect } from 'react-redux';\nimport ModuleTable from './ModuleTable';\n\nconst mapStateToProps = (state: State): StateProps => {\n  if (state.calculatedFullModuleData) {\n    const moduleData = state.calculatedFullModuleData.moduleData;\n    if (moduleData) {\n      const amount = moduleData.removed.length === 0\n        ? 'All'\n        : String(moduleData.included.length);\n      return {\n        modulesIncludedLabel: `${amount} Modules Included`,\n        focusedRowID: state.currentlyFocusedElementID,\n      };\n    }\n  }\n\n  return {\n    modulesIncludedLabel: null,\n    focusedRowID: state.currentlyFocusedElementID,\n  };\n};\n\nexport default connect<StateProps, {||}, _, _, _, _>(\n  mapStateToProps,\n  () => ({}),\n)(ModuleTable);\n","/*\n * @flow\n */\n\nimport BlacklistTableContainer from './BlacklistTableContainer';\nimport ChunkBreadcrumbContainer from './ChunkBreadcrumbContainer';\nimport LoopTableContainer from './LoopTableContainer';\nimport ModuleTableContainer from './ModuleTableContainer';\nimport * as React from 'react';\n\nexport default function SelectedChunk() {\n  return (\n    <React.Fragment>\n      <div className=\"row\">\n        <div className=\"col-sm-11 ml-auto\">\n          <ChunkBreadcrumbContainer />\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-sm-12\">\n          <BlacklistTableContainer />\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-sm-12\">\n          <LoopTableContainer />\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-sm-12\">\n          <ModuleTableContainer />\n        </div>\n      </div>\n    </React.Fragment>\n  );\n}\n","/*\n * @flow\n */\n\nimport './LoadingSpinner.css';\n\nimport * as React from 'react';\nimport Octicon, { Sync } from '@github/octicons-react';\n\nexport default function LoadingSpinner() {\n  return (\n    <div className=\"text-center\">\n      <p>\n        <Octicon\n          icon={Sync}\n          size='large'\n          className=\"LoadingSpinner-icon\" />\n      </p>\n      <p>\n        <em>Loading</em>\n      </p>\n    </div>\n  );\n}\n","/*\n * @flow\n */\n\nexport type ParsedJSON = any;\n\nexport type ChunkID = string | number;\nexport type ModuleID = string | number;\n\nexport function isSameChunk(a: ?ChunkID, b: ?ChunkID): boolean {\n  if (a === null && b === null) {\n    return true;\n  }\n  return String(a) === String(b);\n}\n\nexport type Asset = {\n  name: string,\n  size: number,\n  chunks: Array<string>,\n  chunkNames: Array<string>,\n  emitted: boolean,\n};\n\nexport type EntryPoint = {\n  chunks: Array<number>,\n  assets: Array<string>,\n};\n\nexport type Reason = {\n  moduleId: ModuleID,\n  moduleIdentifier: string,\n  module: string,\n  moduleName: string,\n  type: string,\n  userRequest: string,\n  loc: string,\n};\n\nexport type Origin = {\n  moduleId: number,\n  module: string,\n  moduleIdentifier: string,\n  moduleName: string,\n  loc: string,\n  name: ?string,\n  reasons: Array<Reason>,\n};\n\nexport type Chunk = {\n  id: ChunkID,\n  rendered: boolean,\n  initial: boolean,\n  entry: boolean,\n  extraAsync: boolean,\n  size: number,\n  name: string,\n  names: Array<string>,\n  files: Array<string>,\n  hash: string,\n  parents: Array<ChunkID>,\n  origins: Array<Origin>\n};\n\nexport type Module = {\n  id: ModuleID,\n  identifier: string,\n  name: string,\n  index: number,\n  index2: number,\n  size: number,\n  cacheable: boolean,\n  built: boolean,\n  optional: boolean,\n  prefetched: boolean,\n  chunks: Array<ChunkID>,\n  assets: Array<*>,\n  issuer: string,\n  issuerId: string | number,\n  failed: boolean,\n  errors: number,\n  warnings: number,\n  reasons: Array<Reason>,\n  usedExports: true | Array<string>,\n  providedExports: ?Array<string>,\n};\n\nexport type RawStats = {\n  assets?: Array<Asset>,\n  entrypoints?: {\n    [key: string]: EntryPoint,\n  },\n  chunks: Array<Chunk>,\n  modules: Array<Module>,\n};\n\n// should be ExtendedModule = Module & { requirements: Array<Module> };\nexport type ExtendedModule = {\n  id: ModuleID,\n  identifier: string,\n  name: string,\n  index: number,\n  index2: number,\n  size: number,\n  cacheable: boolean,\n  built: boolean,\n  optional: boolean,\n  prefetched: boolean,\n  chunks: Array<ChunkID>,\n  assets: Array<*>,\n  issuer: string,\n  issuerId: string | number,\n  failed: boolean,\n  errors: number,\n  warnings: number,\n  reasons: Array<Reason>,\n  usedExports: true | Array<string>,\n  providedExports: ?Array<string>,\n\n  requiredBy: Array<Reason>,\n  requiredByCount: number,\n  requirements: Array<Module>,\n  requirementsCount: number,\n  cumulativeSize: number,\n  loops: Array<Array<ExtendedModule>>,\n};\n\nexport type RowRepresentation = {\n  displayModule: ExtendedModule,\n  records: Array<ExtendedModule>,\n  collapsedSizeBytes: number,\n};\n","/*\n * @flow\n */\n\nimport type { ChunkNamesById } from './getChunkNamesFromImportedModules';\nimport type { Chunk } from '../types/Stats';\n\nexport default function getChunkName(\n  chunk: Chunk,\n  importedChunkNames: ChunkNamesById,\n) {\n  return (\n    chunk.names.join(', ') ||\n    (importedChunkNames[chunk.id]\n      ? `import('${importedChunkNames[chunk.id]}')`\n      : null) ||\n    chunk.origins.map((origin) => origin.moduleName).join(', ')\n  );\n}\n","/*\n * @flow\n */\n\nimport type {\n  ChunkID,\n  RawStats,\n  Module,\n  Reason,\n} from '../types/Stats';\n\nexport type ChunkNamesById = {\n  [chunkId: ChunkID]: string,\n};\n\nfunction isImportType(reason: Reason): boolean {\n  return reason.type === 'import()';\n}\n\nfunction wasImported(module: Module): boolean {\n  return module.reasons.filter(isImportType).length > 0;\n}\n\nexport default function getChunkNamesFromImportedModules(\n  stats: RawStats,\n): {\n  [chunkId: ChunkID]: string,\n} {\n  const chunksById = stats.chunks.reduce((map, chunk) => {\n    map[chunk.id] = chunk;\n    return map;\n  }, {});\n\n  return stats.modules\n    .filter(wasImported)\n    .reduce((namesByChunks, module) => {\n      module.reasons\n        .filter(isImportType)\n        .forEach((reason) => {\n          const chunk = module.chunks\n            .map((chunkId) => chunksById[chunkId])\n            .filter((chunk) =>\n              chunk.origins.length >= 1 &&\n              chunk.origins[0].loc === reason.loc\n            )\n            .shift();\n\n          if (chunk) {\n            namesByChunks[chunk.id] = module.name;\n          }\n        });\n      return namesByChunks;\n    }, {});\n}\n","/*\n * @flow\n */\n\nimport type {RawStats} from '../types/Stats';\n\nexport default function getEntryChunks(stats: RawStats) {\n  return stats.chunks;\n  // .filter(\n  //   chunk => chunk.names.length\n  // );\n}\n","/*\n * @flow\n */\n\nimport type { ChunkID, RawStats } from '../types/Stats';\n\nimport getChunkName from './getChunkName';\nimport getChunkNamesFromImportedModules from './getChunkNamesFromImportedModules';\nimport getEntryChunks from './getEntryChunks';\n\nexport type Child = {\n  id: ChunkID,\n  ids: Array<ChunkID>,\n  name: string,\n  names: Array<string>,\n  children: Array<Child>,\n};\n\nexport type FlatChunk = {\n  id: ChunkID,\n  name: string,\n  indent: number,\n};\n\nexport const ROOT_ID = Number.MIN_SAFE_INTEGER;\n\nfunction getSyncName(name: string): string {\n  if (name.indexOf('./node_modules/promise-loader?') === 0) {\n    return name.replace('./node_modules/promise-loader?', '');\n  } else {\n    const match = name.match(/import\\('([\\w\\S]+)'\\)/);\n    if (match) {\n      return match[1];\n    } else {\n      return name;\n    }\n  }\n}\n\nexport default function getEntryHierarchy(\n  stats: RawStats,\n): Child {\n  const importedChunkNames = getChunkNamesFromImportedModules(stats);\n  const entryChunks = getEntryChunks(stats);\n\n  const rootChunks = [];\n  const chunksById = {};\n  const asyncChunksById = {};\n  entryChunks.forEach((chunk) => {\n    const name = getChunkName(chunk, importedChunkNames);\n    chunksById[chunk.id] = {\n      id: chunk.id,\n      ids: [chunk.id],\n      name: name,\n      names: chunk.names,\n      children: [],\n    };\n\n    const syncName = getSyncName(name);\n    if (syncName !== name) {\n      asyncChunksById[chunk.id] = {\n        id: chunk.id,\n        ids: [chunk.id],\n        name: getChunkName(chunk, importedChunkNames),\n        names: chunk.names,\n        children: [],\n      };\n    }\n  });\n\n  entryChunks.forEach((chunk) => {\n    const id = chunk.id;\n    const child = chunksById[id];\n    if (chunk.parents.length === 0) {\n      rootChunks.push(child);\n    } else {\n      chunk.parents.forEach((parentId) => {\n        const parent = chunksById[parentId];\n        const asyncParent = asyncChunksById[parentId];\n\n        if (asyncParent) {\n          asyncParent.children.push(child);\n        } else {\n          parent.children.push(child);\n        }\n      });\n    }\n  });\n\n  return {\n    id: ROOT_ID,\n    ids: [],\n    name: '',\n    names: [],\n    // $FlowFixMe: Object.values has an Array<mixed> here\n    children: rootChunks.concat(Object.values(asyncChunksById)),\n  };\n}\n\nexport function flattenChunksByParent(\n  chunksByParent: Array<Child>,\n): Array<FlatChunk> {\n  const flatChunks = [];\n  const visitedChunks = {};\n\n  function appendChildren(children: Array<Child>, indent: number) {\n    children.forEach((child) => {\n      if (!visitedChunks[child.id]) {\n        flatChunks.push({\n          id: child.id,\n          name: child.name,\n          indent: indent,\n        });\n        visitedChunks[child.id] = true;\n      }\n\n      appendChildren(child.children, indent + 1);\n    });\n  }\n\n  appendChildren(chunksByParent, 0);\n\n  return flatChunks;\n}\n","/*\n * @flow\n */\n\nimport type {Child} from '../../stats/getEntryHierarchy';\nimport type {ChunkID} from '../../types/Stats';\n\nimport { isSameChunk } from '../../types/Stats';\nimport { flattenChunksByParent } from '../../stats/getEntryHierarchy';\nimport Button from '../Bootstrap/Button';\nimport DropdownList from '../Bootstrap/DropdownList';\nimport * as React from 'react';\n\nimport './ChunkDropdown.css';\n\nexport type StateProps = {|\n  chunksByParent: Array<Child>,\n  selectedChunkId: ?ChunkID,\n|};\n\nexport type DispatchProps = {|\n  onSelectChunkId: (chunkId: ChunkID) => void,\n|};\n\nexport type Props = {|\n  ...$Exact<StateProps>,\n  ...$Exact<DispatchProps>,\n|};\n\nfunction willStopPropagation(event: SyntheticEvent<>) {\n  event.stopPropagation();\n}\n\nexport default function ChunkDropdown(props: Props) {\n  if (props.chunksByParent.length === 0) {\n    return null;\n  }\n\n  const chunkList = flattenChunksByParent(props.chunksByParent);\n  const selectedChunk = chunkList\n    .filter((chunk) => isSameChunk(chunk.id, props.selectedChunkId))\n    .pop();\n  const label = selectedChunk ? selectedChunk.name : '- pick a chunk -';\n\n  return (\n    <div className=\"row form-group\" onClick={willStopPropagation}>\n      <label className=\"col-sm-1 col-form-label\">Chunk</label>\n      <div className=\"col-sm-11\">\n        <DropdownList\n          scrollable={true}\n          disabled={chunkList.length === 0}\n          filter=\"default\"\n          items={chunkList.map((chunk) => ({\n            node(hideContent) {\n              return (\n                <Button\n                  color=\"link\"\n                  display=\"block\"\n                  style={chunk.indent ? {paddingLeft: chunk.indent + 'em'} : {}}\n                  onClick={() => {\n                    hideContent();\n                    props.onSelectChunkId(chunk.id);\n                  }}>\n                  <div\n                    className={[\n                      'text-left',\n                      chunk.indent ? 'ChunkDropdownPrefix' : '',\n                    ].join(' ')}>\n                    {chunk.name} ({chunk.id})\n                  </div>\n                </Button>\n              );\n            },\n            value: chunk.id,\n          }))}>\n          {label}\n        </DropdownList>\n      </div>\n    </div>\n  );\n}\n","/*\n * @flow\n */\n\nimport type { Dispatch, State } from '../../utils/reducer';\nimport type { Props, DispatchProps, StateProps } from './ChunkDropdown';\n\nimport ChunkDropdown from './ChunkDropdown';\nimport {connect} from 'react-redux';\nimport {\n  PickedChunk,\n} from '../../utils/actions';\n\nconst mapStateToProps = (state: State): StateProps => {\n  return {\n    selectedChunkId: state.selectedChunkId,\n    chunksByParent: state.calculatedFullModuleData\n      ? state.calculatedFullModuleData.chunksByParent\n      : [],\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch): DispatchProps => {\n  return {\n    onSelectChunkId: PickedChunk(dispatch),\n  };\n};\n\nexport default connect<Props, {||}, _, _, _, _>(\n  mapStateToProps,\n  mapDispatchToProps\n)(ChunkDropdown);\n","/*\n * @flow\n */\n\nimport type { ItemValue } from '../Bootstrap/DropdownList';\n\nimport * as React from 'react';\nimport DropdownList from '../Bootstrap/DropdownList';\n\nexport type StateProps = {|\n  childrenIndexes: Array<number>,\n  selectedChildIndex: ?number,\n|};\n\nexport type DispatchProps = {|\n  onPickedChild: (childIndex: number) => void,\n|};\n\nexport type Props = {|\n  ...$Exact<StateProps>,\n  ...$Exact<DispatchProps>,\n|};\n\nfunction willStopPropagation(event: SyntheticEvent<>) {\n  event.stopPropagation();\n}\n\nexport default function ConfigDropdown(props: Props) {\n  if (props.childrenIndexes.length <= 1) {\n    return null;\n  }\n\n  return (\n    <div className=\"row form-group\" onClick={willStopPropagation}>\n      <label\n        className=\"col-sm-1 col-form-label\"\n        htmlFor=\"data-child-picker\">\n        Config\n      </label>\n      <div className=\"col-sm-11\">\n        <DropdownList\n          items={(props.childrenIndexes || []).map((index) => ({\n            label: String(index),\n            value: index,\n          }))}\n          onItemPicked={(value: ItemValue) => {\n            props.onPickedChild(Number(value));\n          }}\n        >\n          {String(props.selectedChildIndex || '- pick a config -')}\n        </DropdownList>\n      </div>\n    </div>\n  );\n}\n","/*\n * @flow\n */\n\nimport type { Dispatch, State } from '../../utils/reducer';\nimport type { Props, DispatchProps, StateProps } from './ConfigDropdown';\n\nimport ConfigDropdown from './ConfigDropdown';\nimport { connect } from 'react-redux';\nimport { PickedChild } from '../../utils/actions';\n\nconst mapStateToProps = (state: State): StateProps => {\n  const children = (state.jsonChildren && state.selectedFilename)\n    ? state.jsonChildren[state.selectedFilename]\n    : null;\n\n  return {\n    childrenIndexes: children ? children.map((k, i) => i) : [],\n    selectedChildIndex: state.selectedChildIndex,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch): DispatchProps => {\n  return {\n    onPickedChild: PickedChild(dispatch),\n  };\n};\n\nexport default connect<Props, {||}, _, _, _, _>(\n  mapStateToProps,\n  mapDispatchToProps\n)(ConfigDropdown);\n","/*\n * @flow\n */\n\nimport type { AppState } from '../utils/reducer';\n\nimport DragDropUpload from './DragDropUpload';\nimport FileSelectorsContainer from './FileSelectorsContainer';\nimport Navbar from './Navbar';\nimport React, { Component } from 'react';\nimport SelectedChunk from './stats/SelectedChunk';\nimport LoadingSpinner from './LoadingSpinner';\nimport ChunkDropdownContainer from './stats/ChunkDropdownContainer';\nimport ConfigDropdownContainer from './stats/ConfigDropdownContainer';\n\nimport './App.css';\n\nexport type StateProps = {|\n  appState: AppState,\n|};\n\nexport type DispatchProps = {|\n  onPickedFile: (path: string) => void,\n  onDroppedFile: (path: string, fileText: string) => void,\n|};\n\nexport type Props = {|\n  ...$Exact<StateProps>,\n  ...$Exact<DispatchProps>,\n|};\n\ntype State = {\n  isDragging: boolean,\n};\n\nfunction getContent(props: Props) {\n  switch(props.appState) {\n    case 'empty':\n      return null;\n    case 'loading':\n      return <LoadingSpinner />;\n    case 'loaded':\n      return <SelectedChunk />;\n    default:\n      throw new Error(`Invalid appState: ${JSON.stringify(props.appState)}`);\n  }\n}\n\nfunction DragDropHelp() {\n  return (\n    <div className=\"card my-3\">\n      <div className=\"card-header\">\n        <label className=\"control-label\">Drag & Drop your <code>stats.json</code> file here</label>\n        <p id=\"drag-drop-helpblock\" className=\"col-sm-12 help-block\">\n          Run <kbd>webpack --json &gt; stats.json</kbd> to get started.\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default class App extends Component<Props, State> {\n  state: State = {\n    isDragging: false,\n  };\n\n  render() {\n    const props = this.props;\n    const showHelp = props.appState === 'empty' || this.state.isDragging;\n\n    return (\n      <div className=\"App\">\n        <Navbar />\n        <div className=\"AppFixed\">\n          <div className=\"AppView container-fluid\">\n            <aside>\n              <DragDropUpload\n                id=\"drag-drop-upload\"\n                aria-describedby=\"drag-drop-helpblock\"\n                className=\"form-control\"\n                onDragEnter={() => this.setState({ isDragging: true })}\n                onDragLeave={() => this.setState({ isDragging: false })}\n                onChange={props.onPickedFile}\n                didGetFile={props.onDroppedFile}>\n                <form>\n                  <FileSelectorsContainer />\n                  {showHelp\n                    ? <DragDropHelp />\n                    : null}\n                  <ConfigDropdownContainer />\n                  <ChunkDropdownContainer />\n                </form>\n              </DragDropUpload>\n            </aside>\n            <main>\n              {getContent(props)}\n            </main>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * @flow\n */\n\nimport type { AppState } from '../utils/reducer';\nimport type { Dispatch, State } from '../utils/reducer';\nimport type { Props, DispatchProps, StateProps } from './App';\n\nimport App from './App';\nimport {connect} from 'react-redux';\nimport {\n  PickDataPath,\n  DroppedDataFile,\n} from '../utils/actions';\n\nfunction getAppState(state: State): AppState {\n  if (!state.selectedFilename || !state.dataPaths[state.selectedFilename]) {\n    return 'empty';\n  }\n  switch (state.dataPaths[state.selectedFilename]) {\n    case 'unknown': // fall through\n    case 'loading':\n      return 'loading';\n    case 'ready':\n      return 'loaded';\n    case 'error': // fall through\n    default:\n      return 'empty';\n  }\n}\n\nconst mapStateToProps = (state: State): StateProps => {\n  return {\n    appState: getAppState(state),\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch): DispatchProps => {\n  return {\n    onPickedFile: PickDataPath(dispatch),\n    onDroppedFile: DroppedDataFile(dispatch),\n  };\n};\n\nexport default connect<Props, {||}, _, _, _, _>(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              // eslint-disable-next-line no-console\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              // eslint-disable-next-line no-console\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      // eslint-disable-next-line no-console\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      // eslint-disable-next-line no-console\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","/*\n * @flow\n */\n\nimport type {RawStats, Module} from '../types/Stats';\n\nimport type {Child} from './getEntryHierarchy';\n\nimport getModulesByChunk from './getModulesByChunk';\n\nexport default function getChunkModules(\n  stats: RawStats,\n  parentChunks: ?Array<Child>,\n): ?Array<Module> {\n  if (!parentChunks) {\n    return null;\n  }\n\n  const modulesByChunk = getModulesByChunk(\n    stats,\n    parentChunks.map((chunk) => chunk.id),\n  );\n\n  return parentChunks.reduce(\n    (modules, chunk) => {\n      const chunkWithModules = modulesByChunk[chunk.id] || {modules: []};\n      return modules.concat(chunkWithModules.modules);\n    },\n    [],\n  );\n}\n","/*\n * @flow\n */\n\nimport type {ChunkID, Module, RawStats} from '../types/Stats';\n\nexport default function getModulesByChunk(\n  stats: RawStats,\n  chunkWhitelist: Array<ChunkID>,\n): {\n  [key: ChunkID]: {\n    id: ChunkID,\n    length: number,\n    modules: Array<Module>,\n  },\n} {\n  const map = {};\n\n  stats.chunks.forEach((chunk) => {\n    if (chunkWhitelist.includes(chunk.id)) {\n      map[chunk.id] = {\n        id: chunk.id,\n        length: 0,\n        modules: [],\n      };\n    }\n  });\n\n  stats.modules.forEach((module) => {\n    module.chunks.forEach((chunk) => {\n      if (map[chunk]) {\n        map[chunk].modules = map[chunk].modules.concat(module);\n      }\n    });\n  });\n\n  Object.keys(map).forEach((key) => {\n    map[key].length = map[key].modules.length;\n\n    if (map[key].length === 0) {\n      delete map[key];\n    }\n  });\n\n  return map;\n}\n","/*\n * @flow\n */\n\nimport type {ModuleID, Module, ExtendedModule} from '../types/Stats';\n\nexport type ExtendedModulesById = {[key: ModuleID]: ExtendedModule};\n\nexport default function getExtendedModulesById(\n  modules: Array<Module>,\n): ExtendedModulesById {\n  const extendedModulesById = modules.map((module) => {\n    return {\n      ...module,\n      requiredBy: [],\n      requiredByCount: 0,\n      requirements: [],\n      requirementsCount: 0,\n      cumulativeSize: 0,\n      loops: [],\n    };\n  }).reduce((map, module) => {\n    map[module.id] = module;\n    return map;\n  }, {});\n\n  modules.forEach((module) => {\n    module.reasons.forEach((reason) => {\n      // this module was added because `reason`.\n\n      const importer = extendedModulesById[reason.moduleId];\n      if (importer) {\n        const prefix = importer.identifier.split('!').shift();\n        if (prefix.indexOf('promise-loader') >= 0) {\n          // This is the thing that was promise-loaded. Skip it.\n          return;\n        }\n\n        // record that this module is required by something within our selected chunk list\n        extendedModulesById[module.id].requiredBy.push(reason);\n        extendedModulesById[module.id].requiredByCount += 1;\n\n        // record the reason as an import on $reason.moduleId\n        importer.requirements.push(module);\n        importer.requirementsCount += 1;\n      }\n    });\n  });\n\n  return extendedModulesById;\n}\n\nexport function calculateModuleSizes(\n  modules: ExtendedModulesById,\n): ExtendedModulesById {\n  const doneKeys = [];\n\n  function getSizeOf(eModule: ExtendedModule, visitedIds: Array<ModuleID>) {\n    if (doneKeys.includes(eModule.id)) {\n      return eModule.cumulativeSize;\n    }\n\n    let size = eModule.size;\n    eModule.requirements.forEach((rModule) => {\n      if (!modules[rModule.id]) {\n        // this module was removed via blacklist\n        return;\n      }\n      if (!visitedIds.includes(rModule.id)) {\n        const reModule = modules[rModule.id];\n        const sizeOf = getSizeOf(reModule, visitedIds.concat(rModule.id));\n        size += (sizeOf / reModule.requiredByCount);\n      } else {\n        eModule.loops.push(visitedIds.map((id) => modules[id]));\n      }\n    });\n\n    doneKeys.push(eModule.id);\n    eModule.cumulativeSize = size;\n\n    return size;\n  }\n\n  Object.keys(modules).forEach((id) => {\n    getSizeOf(modules[id], [id]);\n  });\n\n  return modules;\n}\n","/*\n * @flow\n */\n\nimport type {ChunkID} from '../types/Stats';\nimport type {Child} from './getEntryHierarchy';\n\nimport {isSameChunk} from '../types/Stats';\nimport {ROOT_ID} from './getEntryHierarchy';\n\nfunction findChunk(\n  root: Child,\n  targetID: ChunkID,\n  history: Array<Child> = [],\n): ?Array<Child> {\n  if (targetID === null) {\n    return null;\n  }\n\n  if (isSameChunk(root.id, targetID)) {\n    return history.concat(root);\n  } else {\n    for (let i = 0; i < root.children.length; i++) {\n      const nextHistory = root.id !== ROOT_ID ? history.concat(root) : history;\n      const found = findChunk(root.children[i], targetID, nextHistory);\n      if (found) {\n        return found;\n      }\n    }\n  }\n  return null;\n}\n\nexport default function getParentChunks(\n  root: Child,\n  chunkId: ChunkID,\n): ?Array<Child> {\n  return findChunk(root, chunkId);\n}\n","/*\n * @flow\n */\n\nimport type {\n  ChunkID,\n  ExtendedModule,\n  ModuleID,\n  RawStats,\n} from '../types/Stats';\n\nimport type {Child} from './getEntryHierarchy';\n\nimport getChunkModules from './getChunkModules';\nimport getEntryHierarchy from './getEntryHierarchy';\nimport getExtendedModulesById, {calculateModuleSizes} from './getExtendedModulesById';\nimport getModulesById from './getModulesById';\nimport getParentChunks from './getParentChunks';\nimport splitUnreachableModules from './splitUnreachableModules';\n\nexport type FullModuleDataType = {\n  moduleData: ?{\n    included: Array<ExtendedModule>,\n    removed: Array<ExtendedModule>,\n  },\n  extendedModules: Array<ExtendedModule>,\n  chunksByParent: Array<Child>,\n  parentChunks: ?Array<Child>,\n};\n\nexport default function fullModuleData(\n  stats: RawStats,\n  selectedChunkId: ?ChunkID,\n  blacklistedModuleIds: Array<ModuleID>,\n): FullModuleDataType {\n  const chunksByParent = getEntryHierarchy(stats);\n\n  if (selectedChunkId === null || selectedChunkId === undefined) {\n    return {\n      moduleData: null,\n      extendedModules: [],\n      chunksByParent: chunksByParent.children,\n      parentChunks: null,\n    };\n  }\n\n  const parentChunks = getParentChunks(\n    chunksByParent,\n    selectedChunkId,\n  );\n  const modules = getChunkModules(\n    stats,\n    parentChunks,\n  );\n\n  if (!modules) {\n    return {\n      moduleData: null,\n      extendedModules: [],\n      chunksByParent: chunksByParent.children,\n      parentChunks: parentChunks,\n    };\n  }\n\n  const extendedModulesById = getExtendedModulesById(modules);\n\n  if (!extendedModulesById) {\n    return {\n      moduleData: null,\n      extendedModules: [],\n      chunksByParent: chunksByParent.children,\n      parentChunks: parentChunks,\n    };\n  }\n\n  const splitModules = splitUnreachableModules(\n    extendedModulesById,\n    blacklistedModuleIds,\n  );\n\n  // $FlowFixMe: flow thinks `values()` returns an `Array<mixed>` here\n  const extendedModules: Array<ExtendedModule> = splitModules\n    ? Object.values(calculateModuleSizes(getModulesById(splitModules.included)))\n    : [];\n\n  return {\n    moduleData: splitModules,\n    extendedModules: extendedModules,\n    chunksByParent: chunksByParent.children,\n    parentChunks: parentChunks,\n  };\n}\n","/*\n * @flow\n */\n\nimport type {ModuleID, ExtendedModule} from '../types/Stats';\nimport type {ExtendedModulesById} from './getExtendedModulesById';\n\nexport default function splitUnreachableModules(\n  extendedModulesById: ExtendedModulesById,\n  blacklistedModuleIds: Array<ModuleID>,\n): {\n  included: Array<ExtendedModule>,\n  removed: Array<ExtendedModule>,\n} {\n  // $FlowFixMe: flow thinks `values` returns `Array<mixed>`\n  const modules: Array<ExtendedModule> = Object.values(extendedModulesById);\n\n  if (blacklistedModuleIds.length === 0) {\n    return {\n      included: modules,\n      removed: [],\n    };\n  }\n\n  const stringyModuleIds = modules.map((module) => String(module.id));\n  const stringyBlackListedIds = blacklistedModuleIds.map(String);\n\n  const _relevantReasons = (reason) =>\n    stringyModuleIds.includes(String(reason.moduleId));\n\n  const reachableModuleIds = modules\n    .filter((module) =>\n      !stringyBlackListedIds.includes(String(module.id)) &&\n      module.reasons.filter(_relevantReasons).length === 0\n    )\n    .map((module) => module.id);\n\n  const _includableModule = (module) =>\n    !stringyBlackListedIds.includes(String(module.id));\n\n  const push = (module) => {\n    if (reachableModuleIds.includes(module.id)) {\n      return;\n    }\n    reachableModuleIds.push(module.id);\n  };\n\n  let i = 0;\n  while (i < reachableModuleIds.length) {\n    const moduleId = reachableModuleIds[i];\n    const module = extendedModulesById[moduleId];\n\n    module.requirements\n      .filter(_includableModule)\n      .map(push);\n\n    i += 1;\n  }\n\n  return {\n    included: modules.filter((module) => reachableModuleIds.includes(module.id)),\n    removed: modules.filter((module) => !reachableModuleIds.includes(module.id)),\n  };\n}\n","/**\n * @flow\n */\n\nimport type {ChunkID, ModuleID, RawStats} from '../types/Stats';\nimport type {FullModuleDataType} from '../stats/fullModuleData';\nimport type {\n  FilterableFields,\n  FilterProps,\n} from '../stats/filterModules';\nimport type { SortableFields, SortProps } from '../stats/sortModules';\n\nimport getEntryChunks from '../stats/getEntryChunks';\nimport fullModuleData from '../stats/fullModuleData';\nimport getCollapsableParentOf from '../stats/getCollapsableParentOf';\nimport getModulesById from '../stats/getModulesById';\nimport withTimings from './withTimings';\n\nexport type Action =\n  | {\n    type: 'discoveredDataPaths',\n    paths: Array<string>,\n  }\n  | {\n    type: 'pickDataPath',\n    path: string,\n  }\n  | {\n    type: 'requestedDataAtPath',\n    path: string,\n  }\n  | {\n    type: 'loadedStatsAtPath',\n    path: string,\n    children: Array<RawStats>,\n  }\n  | {\n    type: 'erroredAtPath',\n    path: string,\n    error: Error | string,\n  }\n  | {\n    type: 'onSorted',\n    field: SortableFields,\n  }\n  | {\n    type: 'onFiltered',\n    changes: {[key: FilterableFields]: string},\n  }\n  | {\n    type: 'onPickedChild',\n    childIndex: number,\n  }\n  | {\n    type: 'onPickedChunk',\n    chunkId: ChunkID,\n  }\n  | {\n    type: 'onRemoveModule',\n    moduleID: ModuleID,\n  }\n  | {\n    type: 'onIncludeModule',\n    moduleID: ModuleID,\n  }\n  | {\n    type: 'changeExpandRecordsMode',\n    mode: 'manual' | 'expand-all' | 'collapse-all',\n  }\n  | {\n    type: 'onExpandRecords',\n    moduleID: ModuleID,\n  }\n  | {\n    type: 'onCollapseRecords',\n    moduleID: ModuleID,\n  }\n  | {\n    type: 'onFocusChanged',\n    elementID: ?string,\n  }\n  ;\n\nexport type AppState = 'empty' | 'loading' | 'loaded'\nexport type DataPathState = 'unknown' | 'loading' | 'error' | 'ready';\nexport type ExpandMode = 'manual' | 'expand-all' | 'collapse-all';\nexport type State = {\n  appState: AppState,\n  dataPaths: {[path: string]: DataPathState},\n  selectedFilename: ?string,\n  childrenIndexes: Array<number>,\n  selectedChildIndex: ?number,\n  selectedChunkId: ?ChunkID,\n  blacklistedModuleIds: Array<ModuleID>,\n  jsonChildren: {[filename: string]: Array<RawStats>},\n  sort: SortProps,\n  filters: FilterProps,\n  expandMode: ExpandMode,\n  expandedRecords: Set<ModuleID>,\n  currentlyFocusedElementID: ?string,\n  calculatedFullModuleData: ?FullModuleDataType,\n};\n\nexport type Dispatch = (action: Action) => any | void;\n\nexport const INITIAL_STATE: State = {\n  appState: 'empty',\n  dataPaths: {},\n  selectedFilename: null,\n  childrenIndexes: [],\n  selectedChildIndex: null,\n  selectedChunkId: null,\n  blacklistedModuleIds: [],\n  jsonChildren: {},\n  sort: {\n    field: 'cumulativeSize',\n    direction: 'DESC',\n  },\n  filters: {\n    moduleName: '',\n    cumulativeSizeMin: '',\n    cumulativeSizeMax: '',\n    requiredByCountMin: '',\n    requiredByCountMax: '',\n    requirementsCountMin: '',\n    requirementsCountMax: '',\n  },\n  expandMode: 'collapse-all',\n  expandedRecords: new Set(),\n  currentlyFocusedElementID: null,\n  calculatedFullModuleData: null,\n};\n\nfunction getDefaultChildIndex(children: Array<RawStats>): ?number {\n  return children.length === 1\n    ? 0\n    : null;\n}\n\nfunction getDefaultChunkId(\n  children: Array<RawStats>,\n  childIndex: ?number,\n): ?ChunkID {\n  if (\n    childIndex === null || childIndex === undefined ||\n    !children[childIndex]\n  ) {\n    return null;\n  }\n  const entryChunks = getEntryChunks(children[childIndex]);\n  return entryChunks.length === 1\n    ? entryChunks[0].id\n    : null;\n}\n\nfunction handleAction(\n  state: State,\n  action: Action,\n): State {\n  switch(action.type) {\n    case 'discoveredDataPaths':\n      return {\n        ...state,\n        dataPaths: {\n          ...action.paths.reduce((map, path) => {\n            map[path] = map[path] || 'unknown';\n            return map;\n          }, {}),\n          ...state.dataPaths,\n        },\n      };\n    case 'pickDataPath': {\n      const childIndex = getDefaultChildIndex(state.jsonChildren[action.path] || []);\n      return {\n        ...state,\n        dataPaths: {\n          [action.path]: state.dataPaths[action.path] || 'unknown',\n          ...state.dataPaths,\n        },\n        selectedFilename: action.path,\n        selectedChildIndex: childIndex,\n        selectedChunkId: getDefaultChunkId(\n          state.jsonChildren[action.path] || [],\n          childIndex,\n        ),\n        blacklistedModuleIds: [],\n        expandMode: 'collapse-all',\n        expandedRecords: new Set(),\n        currentlyFocusedElementID: null,\n      };\n    }\n    case 'requestedDataAtPath':\n      return {\n        ...state,\n        dataPaths: {\n          ...state.dataPaths,\n          [action.path]: state.dataPaths[action.path] === 'ready'\n            ? 'ready'\n            : 'loading',\n        },\n      };\n    case 'loadedStatsAtPath': {\n      const childIndex = getDefaultChildIndex(action.children);\n      return {\n        ...state,\n        dataPaths: {\n          ...state.dataPaths,\n          [action.path]: 'ready',\n        },\n        jsonChildren: {\n          ...state.jsonChildren,\n          [action.path]: action.children,\n        },\n        selectedChildIndex: childIndex,\n        selectedChunkId: getDefaultChunkId(action.children, childIndex),\n      };\n    }\n    case 'erroredAtPath':\n      return {\n        ...state,\n        dataPaths: {\n          ...state.dataPaths,\n          [action.path]: 'error',\n        },\n      };\n    case 'onSorted': {\n      const isSameField = state.sort.field === action.field;\n      const invertedDir = state.sort.direction === 'ASC' ? 'DESC': 'ASC';\n      const nextDirection = isSameField ? invertedDir : 'DESC';\n      return {\n        ...state,\n        sort: {\n          field: action.field,\n          direction: nextDirection,\n        },\n      };\n    }\n    case 'onFiltered':\n      return {\n        ...state,\n        filters: {\n          ...state.filters,\n          ...action.changes,\n        },\n      };\n    case 'onPickedChild':\n      return {\n        ...state,\n        selectedChildIndex: action.childIndex,\n        selectedChunkId: getDefaultChunkId(\n          (state.jsonChildren && state.jsonChildren[String(state.selectedFilename)]) || [],\n          action.childIndex\n        ),\n        blacklistedModuleIds: [],\n        expandMode: 'collapse-all',\n        expandedRecords: new Set(),\n        currentlyFocusedElementID: null,\n      };\n    case 'onPickedChunk':\n      return {\n        ...state,\n        selectedChunkId: String(action.chunkId),\n        blacklistedModuleIds: [],\n        expandMode: 'collapse-all',\n        expandedRecords: new Set(),\n        currentlyFocusedElementID: null,\n      };\n    case 'onRemoveModule':\n      return {\n        ...state,\n        blacklistedModuleIds: [\n          ...state.blacklistedModuleIds,\n          action.moduleID,\n        ],\n      };\n    case 'onIncludeModule': {\n      const moduleID = action.moduleID;\n      return {\n        ...state,\n        blacklistedModuleIds: state.blacklistedModuleIds.filter(\n          (id) => String(id) !== String(moduleID),\n        ),\n      };\n    }\n    case 'changeExpandRecordsMode':\n      return {\n        ...state,\n        expandMode: action.mode,\n      };\n    case 'onExpandRecords':\n      return {\n        ...state,\n        expandMode: 'manual',\n        expandedRecords: new Set(state.expandedRecords.add(action.moduleID)),\n      };\n    case 'onCollapseRecords': {\n      const expandedRecords = new Set(state.expandedRecords);\n      expandedRecords.delete(action.moduleID);\n      return {\n        ...state,\n        expandMode: state.expandedRecords.size === 0\n          ? 'collapse-all'\n          : 'manual',\n        expandedRecords: expandedRecords,\n      };\n    }\n    case 'onFocusChanged': {\n      if (\n        action.elementID &&\n        state.calculatedFullModuleData &&\n        state.calculatedFullModuleData.extendedModules\n      ) {\n        const moduleId = action.elementID;\n        const modulesById = getModulesById(state.calculatedFullModuleData.extendedModules);\n        const collapseableParent = getCollapsableParentOf(\n          modulesById,\n          moduleId,\n        );\n        return {\n          ...state,\n          expandMode: collapseableParent\n            ? 'manual'\n            : state.expandMode,\n          expandedRecords: collapseableParent\n            ? new Set(state.expandedRecords.add(collapseableParent.id))\n            : state.expandedRecords,\n          currentlyFocusedElementID: action.elementID,\n        };\n      } else {\n        return {\n          ...state,\n          currentlyFocusedElementID: action.elementID,\n        };\n      }\n    }\n    default:\n      return state;\n  }\n}\n\nfunction calculateFullModuleData(\n  oldState: State,\n  newState: State,\n): State {\n  if (\n    !newState.jsonChildren ||\n    !newState.selectedFilename ||\n    newState.selectedChildIndex === null || newState.selectedChildIndex === undefined ||\n    !newState.jsonChildren[newState.selectedFilename] ||\n    !newState.jsonChildren[newState.selectedFilename][newState.selectedChildIndex]\n  ) {\n    return {\n      ...newState,\n      calculatedFullModuleData: null,\n    };\n  }\n\n  if (\n    oldState.jsonChildren === newState.jsonChildren &&\n    oldState.selectedFilename === newState.selectedFilename &&\n    oldState.selectedChildIndex === newState.selectedChildIndex &&\n    oldState.selectedChunkId === newState.selectedChunkId &&\n    oldState.blacklistedModuleIds === newState.blacklistedModuleIds\n  ) {\n    return newState;\n  }\n\n  return {\n    ...newState,\n    calculatedFullModuleData: fullModuleData(\n      newState.jsonChildren[newState.selectedFilename][newState.selectedChildIndex],\n      newState.selectedChunkId,\n      newState.blacklistedModuleIds,\n    ),\n  };\n}\n\nexport default function reducer(\n  state: State = INITIAL_STATE,\n  action: Action,\n): State {\n  return withTimings('Reducer', action.type)(() =>\n    calculateFullModuleData(\n      state,\n      handleAction(state, action)\n    )\n  );\n}\n","/**\n * @flow\n */\n\nimport type {\n  ModuleID,\n  ExtendedModule,\n} from '../types/Stats';\nimport type { ExtendedModulesById } from './getExtendedModulesById';\n\nexport default function getCollapsableParentOf(\n  modulesById: ExtendedModulesById,\n  moduleId: ModuleID,\n): ?ExtendedModule {\n  const module = modulesById[moduleId];\n  if (!module) {\n    return null;\n  }\n  const requiredByCount = module.requiredBy.length;\n  if (requiredByCount === 0) {\n    return null;\n  } else if (requiredByCount === 1) {\n    return getCollapsableParentOf(modulesById, module.requiredBy[0].moduleId);\n  } else {\n    const requirementCount = module.requirements.length;\n    if (requirementCount === 0) {\n      return null;\n    } else {\n      return module;\n    }\n  }\n}\n","/**\n * @flow\n */\n\nimport type { Store } from 'redux';\nimport type { State } from './reducer';\n\nimport {\n  fetchDataFile,\n  PickedChunk,\n  RemovedModule,\n} from './actions';\n\ntype Subscription = () => void;\n\nfunction toQueryString(obj: Object): string {\n  return Object.keys(obj)\n    .map((key) => `${key}=${encodeURIComponent(obj[key])}`)\n    .join('&');\n}\n\nexport default class UrlStateEncoder {\n  _store: Store<*, *>;\n  _subscription: ?Subscription = null;\n\n  static instance: ?UrlStateEncoder = null;\n  static factory = function(store: Store<*, *>): UrlStateEncoder {\n    if (!UrlStateEncoder.instance) {\n      UrlStateEncoder.instance = new UrlStateEncoder(store);\n    }\n    return UrlStateEncoder.instance;\n  }\n\n  constructor(store: Store<*, *>) {\n    this._store = store;\n\n    const targetState = this.readStateFromHash(window.location.hash);\n\n    if (targetState.filename !== null && targetState.filename !== undefined) {\n      fetchDataFile(store.dispatch)(targetState.filename);\n      if (targetState.chunk !== null && targetState.chunk !== undefined) {\n        PickedChunk(store.dispatch)(targetState.chunk);\n        if (targetState.rm) {\n          const remove = RemovedModule(store.dispatch);\n          targetState.rm.split(',').forEach(remove);\n        }\n      }\n    }\n\n    this._subscription = store.subscribe(this.onStoreChanged);\n  }\n\n  onStoreChanged = () => {\n    const newState = this._store.getState();\n    window.location.hash = this.encodeStateForHash(newState);\n  }\n\n  readStateFromHash(hash: string): Object {\n    return hash.replace(/^#/, '')\n      .split('&')\n      .reduce((map, pair) => {\n        const [key, val] = pair.split('=');\n        map[key] = decodeURIComponent(val);\n        return map;\n      }, {});\n  }\n\n  encodeStateForHash(state: State): string {\n    const vals = {};\n    if (state.selectedFilename !== null && state.selectedFilename !== undefined) {\n      vals.filename = state.selectedFilename;\n      if (state.selectedChunkId !== null && state.selectedChunkId !== undefined) {\n        vals.chunk = state.selectedChunkId;\n        if (state.blacklistedModuleIds && state.blacklistedModuleIds.length) {\n          vals.rm = state.blacklistedModuleIds.join(',');\n        }\n      }\n    }\n    return toQueryString(vals);\n  }\n\n  destroy() {\n    if (this._subscription) {\n      this._subscription();\n      this._subscription = null;\n    }\n  }\n}\n","/**\n * @flow\n */\n\nimport './shims';\n\nimport AppContainer from './components/AppContainer';\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport registerServiceWorker from './utils/registerServiceWorker';\n\nimport handleAction from './utils/reducer';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\n\nimport UrlStateEncoder from './utils/UrlStateEncoder';\n\nimport { fetchDataFile, fetchApiList } from './utils/actions';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\n\nconst store = createStore(\n  handleAction,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nUrlStateEncoder.factory(store);\n\nconst onHasStatsUrl = fetchDataFile(store.dispatch);\nconst onHasListEndpoint = fetchApiList(store.dispatch);\n\nif (process.env.REACT_APP_STATS_URL) {\n  onHasStatsUrl(process.env.REACT_APP_STATS_URL);\n} else {\n  // eslint-disable-next-line no-console\n  console.info('Env var \\'REACT_APP_STATS_URL\\' was empty. Skipping fetch.');\n}\n\nif (process.env.REACT_APP_API_LIST_ENDPOINT) {\n  onHasListEndpoint(process.env.REACT_APP_API_LIST_ENDPOINT);\n} else {\n  // eslint-disable-next-line no-console\n  console.info('Env var \\'REACT_APP_API_LIST_ENDPOINT\\' was empty. Skipping fetch.');\n}\n\nconst root = document.getElementById('root');\nif (!root) {\n  throw new Error('Missing root node');\n}\nReactDOM.render(\n  <Provider store={store}>\n    <AppContainer />\n  </Provider>,\n  root,\n);\n\n// $FlowFixMe\nif (module.hot) {\n  // $FlowFixMe\n  module.hot.accept('./utils/reducer', () => {\n    store.replaceReducer(handleAction);\n  });\n  // $FlowFixMe\n  module.hot.accept('./components/AppContainer', () => {\n    const NextApp = require('./components/AppContainer').default;\n    ReactDOM.render(\n      <Provider store={store}>\n        <NextApp />\n      </Provider>,\n      root\n    );\n  });\n}\n\nregisterServiceWorker();\n","/*\n * @flow\n */\n\n/* eslint-disable no-console */\n\nexport default function withTimings(scope: string, action: string) {\n  return (fn: Function, ...args: Array<any>) => {\n    console.timeStamp(`${scope} start: ${action}`);\n    console.time(`${scope}: ${action}`);\n    const result = fn(...args);\n    console.timeEnd(`${scope}: ${action}`);\n    console.timeStamp(`${scope} end: ${action}`);\n    return result;\n  };\n}\n\n/* eslint-enable no-console */\n"],"sourceRoot":""}