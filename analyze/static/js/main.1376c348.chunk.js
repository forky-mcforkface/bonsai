(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{45:function(e,t,n){e.exports=n(82)},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var r=n(41),l=n.n(r),a=n(42),o=n.n(a);n(62),n(66);Object.values||l.a.shim(),Array.prototype.includes||o.a.shim();var i=n(5),c=n(6),u=n(8),s=n(7),d=n(9),m=n(0),f=n.n(m);function p(e,t){var n=new FileReader;n.onload=function(n){t(e.name,n.target.result)},n.readAsText(e)}var h=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l))))._dragEntered=0,n.clickFileInput=function(){n._fileInput&&n._fileInput.click()},n.onChangeFileInput=function(){n._fileInput&&n._fileInput.files&&n._fileInput.files[0]&&p(n._fileInput.files[0],n.props.didGetFile)},n.onDragOver=function(e){e.preventDefault()},n.onDragEnter=function(){n._dragEntered+=1,n.props.onDragEnter&&n.props.onDragEnter()},n.onDragLeave=function(){n._dragEntered-=1,0===n._dragEntered&&n.props.onDragLeave&&n.props.onDragLeave()},n.onDrop=function(e){if(e.preventDefault(),e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files[0]){var t=e.dataTransfer.files[0];n.props.onChange(t.name),p(t,n.props.didGetFile)}else console.warn("No mouse-drop data found.")},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return m.createElement("div",{onClick:this.clickFileInput,style:this.props.style,ref:function(t){e._div=t,t&&(t.addEventListener("dragover",e.onDragOver),t.addEventListener("dragenter",e.onDragEnter),t.addEventListener("dragleave",e.onDragLeave),t.addEventListener("drop",e.onDrop))}},m.createElement("input",{id:this.props.id,style:{display:"none"},className:this.props.className,type:"file",ref:function(t){e._fileInput=t},onChange:this.onChangeFileInput}),this.props.children)}}]),t}(m.Component);function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"light";return"default"===t?"".concat(e,"-light"):"".concat(e,"-").concat(t||n)}function E(e){return e?"xs"===e?"btn-sm":"btn-".concat(e):null}function v(e){var t,n=["btn",g("btn",e.color,"outline-secondary"),(t=e.display,t&&"inline"!==t?"btn-".concat(t):null),E(e.size)].join(" ");return m.createElement("button",{type:"button",className:n,disabled:e.onClick?null:"disabed",onClick:e.onClick,style:e.style?e.style:null},e.children)}function b(e){var t=["btn",g("btn",e.color,"link"),E(e.size)].join(" ");return m.createElement("a",{className:t,href:e.href||"#",disabled:e.href?null:"disabled",target:e.newtab?"_blank":null,role:"button"},e.children)}function y(e){var t=["btn",g("btn",e.color,"outline-secondary"),E(e.size),"dropdown-toggle"].join(" ");return m.createElement("button",{"aria-expanded":e.isOpen,"aria-haspopup":"true",className:t,"data-toggle":"dropdown",disabled:e.onClick?null:"disabed",onClick:e.onClick,type:"button"},e.children)}function C(e){return m.createElement("button",{"aria-label":e.label||"Close",className:"close",disabled:e.onClick?null:"disabed",onClick:e.onClick,type:"button"},m.createElement("span",{"aria-hidden":"true"},"\xd7"))}var k=n(1);var x=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e)))._dropDownMenu=null,n._flyout=null,n.onHide=function(){n.setState({isOpen:!1},function(){n.props.onToggleOpen&&n.props.onToggleOpen(n.state.isOpen)})},n.onClickToggle=function(){n.setState({isOpen:!n.state.isOpen},function(){n.props.onToggleOpen&&n.props.onToggleOpen(n.state.isOpen)})},n.onDocumentClick=function(e){if(e.target instanceof HTMLElement){if(n._dropDownMenu&&n._dropDownMenu.contains(e.target))return;n.state.isOpen&&n.setState({isOpen:!1},function(){n.props.onToggleOpen&&n.props.onToggleOpen(n.state.isOpen)})}},n.onFlyoutWheel=function(e){if(n._flyout){var t=n._flyout.scrollTop,r=n._flyout.scrollHeight-n._flyout.offsetHeight,l=e.deltaY;if(!(t===r&&l>0||0===t&&l<0))return t+l>r&&n._flyout.scrollTop!==r?(n._flyout.scrollTop=r,void e.preventDefault()):t+l<0&&0!==n._flyout.scrollTop?(n._flyout.scrollTop=0,void e.preventDefault()):void 0;e.preventDefault()}},n.state={isOpen:Boolean(e.defaultIsOpen),waitForDropdownMenu:Boolean(e.defaultIsOpen)&&Boolean(e.scrollable)},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.state.isOpen&&(document.addEventListener("click",this.onDocumentClick),this.state.waitForDropdownMenu&&this.setState({waitForDropdownMenu:!1}))}},{key:"componentDidUpdate",value:function(e,t){this.state.isOpen&&!t.isOpen?document.addEventListener("click",this.onDocumentClick):this.state.isOpen||document.removeEventListener("click",this.onDocumentClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onDocumentClick)}},{key:"isOpen",value:function(){return this.state.isOpen}},{key:"render",value:function(){var e,t=this;return m.createElement("div",{className:["dropdown",(e=this.props.size,e?"btn-".concat(e):null)].join(" "),ref:function(e){t._dropDownMenu=e},style:this.props.style},this.props.split?m.createElement(v,{color:this.props.color,size:this.props.size,onClick:this.props.disabled?null:this.props.split.primaryOnClick},this.props.children):null,m.createElement(y,{color:this.props.color,size:this.props.size,isOpen:this.state.isOpen,onClick:this.props.disabled?null:this.onClickToggle},this.renderToggleLabel()),this.state.isOpen?this.renderContent():null)}},{key:"renderToggleLabel",value:function(){if(this.props.split){var e=this.props.split;return e.octicon?[m.createElement(k.i,{key:"icon",icon:e.octicon}),m.createElement("span",{key:"label",className:"sr-only"},e.label)]:[m.createElement(k.i,{key:"icon",icon:k.g}),m.createElement("span",{key:"label",className:"sr-only"},e.label)]}return this.props.children}},{key:"getScrollableProps",value:function(){if(!this.props.scrollable)return{};if(!document||!document.documentElement||!this._dropDownMenu)return{};var e=document.documentElement.clientHeight;if(!e)return{};var t=this._dropDownMenu.getBoundingClientRect();return{style:{maxHeight:e-t.top-t.height-22,overflow:"scroll"},onWheel:this.onFlyoutWheel}}},{key:"renderContent",value:function(){var e=this,t=["dropdown-menu","show","right"===this.props.align?"dropdown-menu-right":""].join(" "),n=this.props.getContent(this.onHide);return Array.isArray(n)?m.createElement("ul",Object.assign({className:t},this.getScrollableProps(),{ref:function(t){e._flyout=t}}),n):m.createElement("div",Object.assign({className:t},this.getScrollableProps(),{ref:function(t){e._flyout=t}}),n)}}]),t}(m.Component),M=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).renderContent=function(e){var t=n.props;return t.items.filter(function(e){return"default"===t.filter?String(e.label||e.value).toLowerCase().includes(n.state.filter.toLowerCase()):!t.filter||t.filter(n.state.filter,e)}).map(function(n){if(n.label)return m.createElement("li",{key:n.value},m.createElement(v,{color:"link",display:"block",onClick:function(r){r.preventDefault(),e(),t.onItemPicked&&t.onItemPicked(n.value)}},m.createElement("div",{className:"text-left"},String(n.label))));if(n.node)return m.createElement("li",{key:n.value},n.node(e));throw new Error("invalid item type")})},n.state={isOpen:Boolean(e.defaultIsOpen),filter:""},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this._input&&this._input.focus()}},{key:"componentDidUpdate",value:function(){this._input&&this._input.focus()}},{key:"render",value:function(){var e=this;return m.createElement(x,Object.assign({},this.props,{getContent:this.renderContent,onToggleOpen:function(t){e.setState({isOpen:t})}}),this.state.isOpen&&this.props.filter?m.createElement("input",{type:"text",className:"form-control input-sm",style:{display:"inline",width:"auto",marginTop:"-6px",marginBottom:"-6px"},placeholder:"string"===typeof this.props.children?this.props.children:null,value:this.state.filter,ref:function(t){t instanceof HTMLElement&&(e._input=t)},onClick:function(e){e.stopPropagation()},onChange:function(t){e.setState({filter:t.target.value})}}):this.props.children," ",m.createElement("span",{className:"caret"}))}}]),t}(m.Component);function N(e){e.stopPropagation()}var O=n(3),w={};function j(e){return w[e]||(w[e]=fetch(e,{headers:new Headers({Accept:"application/json"})}).then(function(e){return e.json()})),w[e]}function S(e,t){if(!e)throw console.warn("Could not find 'chunks' field."),new Error(t)}function I(e){try{return[D(e)]}catch(t){try{return function(e){return S(e,"Empty object found. Stats file must be a populated object."),S(e.children,"Could not find 'children' field."),S(Array.isArray(e.children),"Found field 'children' but the value is not an array."),e.children.forEach(D),e}(e).children}catch(n){throw new Error("Unable to find required fields.")}}}function D(e){return S(e,"Empty object found. Stats file must be a populated object."),S(e.chunks,"Could not find 'chunks' field."),S(e.modules,"Could not find 'modules' field."),S(Array.isArray(e.chunks),"Found field 'chunks' but the value is not an array."),S(Array.isArray(e.modules),"Found field 'modules' but the value is not an array."),e.modules.forEach(function(e){delete e.source}),e}var F=n(10),P=n.n(F);function R(e){return function(t){return e({type:"pickDataPath",path:t})}}function _(e){return function(t,n){try{var r=JSON.parse(n);return q(e)(t,r)}catch(l){return alert("JSON parse error. Unable to load stats file.\n\n".concat(String(l),"\n\nCheck the console for full details.")),B(e)(t,l)}}}function q(e){return function(t,n){try{var r=I(n);return e({type:"loadedStatsAtPath",path:t,children:r})}catch(l){return alert("Invalid stats file.\n\n".concat(String(l),"\n\nCheck the console for full details.")),B(e)(t,l)}}}function B(e){return function(t,n){return e({type:"erroredAtPath",path:t,error:n})}}function z(e){return function(t){R(e)(t),function(e){return function(t){return e({type:"requestedDataAtPath",path:t})}}(e)(t),j(t).then(function(n){q(e)(t,n)}).catch(function(n){console.error("Failed while fetching json from '".concat(String(t),"'."),n),B(e)(t,n)})}}function T(e){return function(t){return e({type:"onSorted",field:t})}}function A(e){return function(t){return e({type:"onFiltered",changes:t})}}function L(e){return function(t){return e({type:"onPickedChild",childIndex:t})}}function H(e){return function(t){return e({type:"onPickedChunk",chunkId:t})}}function U(e){return function(t){return e({type:"onRemoveModule",moduleID:t})}}function W(e){return function(t){return e({type:"onIncludeModule",moduleID:t})}}function X(e){return function(t){return e({type:"changeExpandRecordsMode",mode:t})}}function G(e){return function(t){return e({type:"onExpandRecords",moduleID:t})}}function J(e){return function(t){return e({type:"onCollapseRecords",moduleID:t})}}function V(e){return function(t){return e({type:"onFocusChanged",elementID:t})}}var Y=Object(O.b)(function(e){return{dataPaths:Object.keys(e.dataPaths),filename:e.selectedFilename}},function(e){return{onPickedFile:z(e)}})(function(e){return 0===e.dataPaths.length?null:m.createElement("div",{className:"row form-group"},m.createElement("label",{className:"col-sm-1 col-form-label",htmlFor:"data-file-picker"},"Filename"),m.createElement("div",{className:"col-sm-11",onClick:N},m.createElement(M,{filter:"default",items:e.dataPaths.map(function(e){return{label:e,value:e}}),onItemPicked:function(t){e.onPickedFile(String(t))}},e.filename?e.filename:null)))});function K(){return m.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark fixed-top"},m.createElement("a",{className:"navbar-brand",href:"/",onClick:function(e){e.preventDefault(),window.location.hash="",window.location.reload()}},"Bonsai"),m.createElement("span",{className:"navbar-text"},"Trim your dependency trees"),m.createElement("ul",{className:"navbar-nav ml-auto"},m.createElement("li",{className:"nav-item"},m.createElement("a",{className:"nav-link",href:"https://pinterest.github.io/bonsai/"},m.createElement(k.i,{icon:k.c}),"\xa0 Docs")),m.createElement("li",{className:"nav-item"},m.createElement("a",{className:"nav-link",href:"https://github.com/pinterest/bonsai"},m.createElement(k.i,{icon:k.e}),"\xa0 Github"))))}function Z(e){if(e.prefix){var t=e.module.name,n=e.prefix+t;return m.createElement(b,{href:n,newtab:!0},m.createElement(k.i,{icon:k.d,ariaLabel:"Open in new window"}))}return null}var $=n(2);n(75);function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object($.a)({},t,{className:["OffsetPageAnchor",t.className].join(" "),tabIndex:-1,id:e})}var ee="\xa0";function te(e){var t,n=e.elem||"span";return m.createElement(n,{className:e.className,title:(t=e.bytes,String(parseInt(t,10)).split("").reverse().map(function(e,t){return e+(t%3?"":",")}).reverse().join("").slice(0,-1)+" bytes")},function(e){if(0===e)return"0 B";var t=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,t)).toFixed(2))+ee+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t]}(e.bytes))}var ne=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={isOpen:!1},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.state.isOpen?f.a.createElement("tbody",null,this.renderHideRow(),this.props.removedModules.map(function(e,t){return f.a.createElement("tr",Object.assign({key:"blacklist-".concat(t)},Q(String(e.id))),f.a.createElement("td",{className:"align-middle"},f.a.createElement(Z,{prefix:"",module:e})),f.a.createElement("td",{className:"align-middle"},e.name),f.a.createElement(te,{elem:"td",className:"align-middle text-right",bytes:e.size}),f.a.createElement("td",{colSpan:"3"}))}),this.renderHideRow()):this.props.removedModules.length>0?f.a.createElement("tbody",null,f.a.createElement("tr",null,f.a.createElement("td",{colSpan:"6"},f.a.createElement(v,{size:"xs",onClick:function(){return e.setState({isOpen:!0})}},f.a.createElement(k.i,{icon:k.h}),"\xa0Show ",this.props.removedModules.length," more removed modules")))):null}},{key:"renderHideRow",value:function(){var e=this;return f.a.createElement("tr",null,f.a.createElement("td",{colSpan:"6"},f.a.createElement(v,{size:"xs",onClick:function(){return e.setState({isOpen:!1})}},f.a.createElement(k.i,{icon:k.g}),"\xa0Hide extra modules")))}}]),t}(m.Component);function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"light";return"card border border-".concat(e||t)}function le(e){var t,n=e.heading?m.createElement("div",{className:"card-header text-white bg-".concat(e.type||"light")},e.heading):null;return m.createElement("div",{className:"".concat(re(e.type)," ").concat(e.className||"")},n,(t=e.children,m.Children.map(t,function(e){if("object"===typeof e&&"object"===typeof e.props){var t=e.props?String(e.props.className):"";if(t.includes("panel-body")||t.includes("table")||t.includes("list-group"))return e}return m.createElement("div",{className:"card-body"},e)})))}var ae=n(19),oe="\u2026";function ie(e,t,n,r){return n===r.length-1?e.concat(t):e.concat(t,m.createElement("br",{key:n}))}function ce(e){return(0===e.indexOf("multi ")?e.split(" "):[e]).map(function(e,t){var n=e.split("!"),r=n.pop(),l=n.map(function(e){var t=e.split("?"),n=Object(ae.a)(t,2),r=n[0],l=n[1];return l?r+"?"+(l.length>14?l.slice(0,7)+oe+l.slice(-7):l)+"!":r+"!"}),a=n.length?n.join("")+"!"+r:"";return[a?m.createElement("span",{key:"a"+t,style:{color:"#aaa"},title:a}," ",l.join("")):null,a?m.createElement("span",{key:"b"+t,title:a},r):m.createElement("span",{key:"b"+t},r)]}).filter(Boolean).reduce(ie,[])}var ue=function(e){return{onFocusChanged:V(e)}},se=Object(O.b)(null,ue)(function(e){return m.createElement(x,{align:"right",color:"link",size:"sm",scrollable:!0,disabled:0===e.eModule.requiredBy.length,getContent:function(t){return e.eModule.requiredBy.map(function(n){return m.createElement("li",{key:n.moduleId},m.createElement(v,{color:"link",display:"block",onClick:function(r){r.preventDefault(),t(),e.onFocusChanged(String(n.moduleId))}},m.createElement("div",{className:"text-left"},ce(n.moduleName))))})}},e.eModule.requiredBy.length," ",m.createElement("span",{className:"caret"}))}),de=Object(O.b)(null,ue)(function(e){return m.createElement(x,{align:"right",color:"link",size:"sm",scrollable:!0,disabled:0===e.eModule.requirements.length,getContent:function(t){return e.eModule.requirements.map(function(n){return m.createElement("li",{key:n.id},m.createElement(v,{color:"link",display:"block",onClick:function(r){r.preventDefault(),t(),e.onFocusChanged(String(n.id))}},m.createElement("div",{className:"text-left"},ce(n.name))))})}},e.eModule.requirements.length," ",m.createElement("span",{className:"caret"}))});var me=Object(O.b)(function(e){return{blacklistedModuleIds:e.blacklistedModuleIds,moduleData:e.calculatedFullModuleData?e.calculatedFullModuleData.moduleData:null}},function(e){return{onIncludeModule:W(e)}})(function(e){if(!e.moduleData||0===e.moduleData.removed.length)return null;var t=e.moduleData.removed,n=e.blacklistedModuleIds.map(String),r=n.map(function(e){return t.filter(function(t){return String(t.id)===e})}),l=t.filter(function(e){return!n.includes(String(e.id))}),a=t.reduce(function(e,t){return e+t.size},0);return m.createElement(le,{className:"my-3",type:"danger",heading:"".concat(t.length," Modules Ignored")},m.createElement("table",{className:"table table-sm table-hover",cellPadding:"0",cellSpacing:"0"},m.createElement("thead",null,m.createElement("tr",null,m.createElement("th",null),m.createElement("th",null,"Name"),m.createElement("th",{className:"text-right"},"Size"),m.createElement("th",{className:"text-right"},"Dependants"),m.createElement("th",{className:"text-right"},"Imports"),m.createElement("th",null))),m.createElement("tbody",null,r.map(function(t){return t.map(function(t){return m.createElement("tr",Object.assign({key:t.id},Q(String(t.id))),m.createElement("td",{className:"align-middle"},m.createElement(Z,{prefix:"",module:t})),m.createElement("td",{className:"align-middle"},t.name),m.createElement(te,{elem:"td",className:"align-middle text-right",bytes:t.size}),m.createElement("td",{className:"align-middle text-right"},m.createElement(se,{eModule:t})),m.createElement("td",{className:"align-middle text-right"},m.createElement(de,{eModule:t})),m.createElement("td",{className:"align-middle"},m.createElement(v,{color:"danger",size:"sm",onClick:function(){return e.onIncludeModule(t.id)}},"Restore")))})})),m.createElement(ne,{removedModules:l}),m.createElement("tfoot",null,m.createElement("tr",null,m.createElement("th",null),m.createElement("th",{className:"text-right"},"Removed Modules"),m.createElement("td",{className:"text-right"},t.length),m.createElement("td",{colSpan:"3"})),m.createElement("tr",null,m.createElement("th",null),m.createElement("th",{className:"text-right"},"Total Size"),m.createElement(te,{elem:"td",className:"text-right",bytes:a}),m.createElement("td",{colSpan:"3"})))))});var fe=Object(O.b)(function(e){if(!e.calculatedFullModuleData)return{parentChunks:[],totalModules:0};var t=e.calculatedFullModuleData,n=t.parentChunks,r=t.moduleData;return{parentChunks:null!==e.selectedChunkId&&n?n:[],totalModules:r?r.included.length+r.removed.length:0}},function(){return{}})(function(e){return 0===e.parentChunks.length?null:m.createElement("ol",{className:"breadcrumb"},e.parentChunks.map(function(e){return m.createElement("li",{className:"breadcrumb-item",key:e.id},e.name," (",String(e.id),")")}),e.totalModules?m.createElement("li",{className:"breadcrumb-item active"},e.totalModules," modules"):null)}),pe=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={expanded:!1},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.extendedModules.filter(function(e){return e.loops.length});if(0===t.length)return null;var n=f.a.createElement("span",null,f.a.createElement(v,{color:"link",size:"sm",onClick:function(){return e.setState({expanded:!e.state.expanded})}},f.a.createElement(k.i,{icon:this.state.expanded?k.g:k.h}),"\xa0",t.length," Modules with circular dependencies"));return f.a.createElement(le,{className:"my-3",type:"warning",heading:n},this.state.expanded?f.a.createElement("ul",{className:"list-group"},t.map(function(e){return f.a.createElement("li",{key:e.identifier,className:"list-group-item"},ce(e.name),e.loops.map(function(t){return f.a.createElement("ul",{key:e.id,className:"list-group"},t.map(function(e){return ce(e.name)}))}))})):null)}}]),t}(m.Component),he=Object(O.b)(function(e){return{extendedModules:e.calculatedFullModuleData?e.calculatedFullModuleData.extendedModules:[]}},function(){return{}})(pe);function ge(e){return[].concat.apply([],e)}n(76);function Ee(e){var t,n,r,l=e.row.displayModule,a=e.row.records,o=e.row.collapsedSizeBytes,i=e.expanded?l.size:o,c=a.length>1,u=l.id===a[0].id,s=c&&u?(t=e.expanded,n=a.length-1,r=e.expanded?function(){return e.onCollapseRecords(l.id)}:function(){return e.onExpandRecords(l.id)},m.createElement("span",{className:"float-right"},m.createElement(v,{color:"link",size:"xs",onClick:r},m.createElement(k.i,{icon:t?k.g:k.h}),"\xa0","".concat(n," unique imports")))):null;return m.createElement("tr",Object.assign({key:l.id},Q(String(l.id),{className:["ModuleTableBody-row",e.expanded&&a.length>1?"ModuleTableBody-expanded-border":null].join(" ")})),null,m.createElement("td",{className:"align-middle ModuleTableBody-main-cell"},s,ce(l.name)),m.createElement(te,{elem:"td",className:"align-middle text-right",bytes:l.cumulativeSize}),m.createElement(te,{elem:"td",className:"align-middle text-right",bytes:i}),m.createElement("td",{className:"align-middle text-right"},m.createElement(se,{eModule:l})),m.createElement("td",{className:"align-middle text-right"},m.createElement(de,{eModule:l})),m.createElement("td",{className:"align-middle"},m.createElement(v,{size:"sm",onClick:function(){return e.onRemoveModule(l.id)}},"Ignore")))}var ve=n(14);function be(e){var t={};return e.forEach(function(e){t[e.id]=e}),t}var ye=function(e){var t=be(e);return e.filter(function(e){return 1!==e.requiredByCount}).map(function(e){var n=[e].concat(Object(ve.a)(function e(t,n){return ge(n.requirements.map(function(n){var r=t[n.id];return r&&1===r.requiredByCount?[r].concat(Object(ve.a)(e(t,r))):[]}))}(t,e)));return{displayModule:e,records:n,collapsedSizeBytes:n.reduce(function(e,t){return e+t.size},0)}})};function Ce(e){return""===e?"":Number(e)}function ke(e,t,n){return function(r){return""!==t&&""!==n?r[e]>=t&&r[e]<=n:""!==t?r[e]>=t:""===n||r[e]<=n}}function xe(e,t){return e.sort(function(e,n){var r=t.field;return function(e,t){return 0===t||"ASC"===e?t:t>0?-1:1}(t.direction,function(e,t){return e===t?0:e>t?1:-1}(e[r],n[r]))})}function Me(e,t,n){var r=ye(xe(function(e,t){return e.filter((n="name",r=new RegExp(t.moduleName),function(e){return!(r&&!r.test(e[n]))})).filter(ke("cumulativeSize",Ce(t.cumulativeSizeMin),Ce(t.cumulativeSizeMax))).filter(ke("requiredByCount",Ce(t.requiredByCountMin),Ce(t.requiredByCountMax))).filter(ke("requirementsCount",Ce(t.requirementsCountMin),Ce(t.requirementsCountMax)));var n,r}(e,t),n));return r.forEach(function(e){e.records=xe(e.records,n)}),r}var Ne=Object(O.b)(function(e){return{rows:Me((e.calculatedFullModuleData||{}).extendedModules,e.filters,e.sort),expandMode:e.expandMode,expandedRecords:e.expandedRecords}},function(e){return{onRemoveModule:U(e),onExpandRecords:G(e),onCollapseRecords:J(e)}})(function(e){return m.createElement("tbody",null,ge(e.rows.map(function(t){return function(e){return e.expanded?e.row.records.map(function(t){return m.createElement(Ee,{key:t.id,row:Object($.a)({},e.row,{displayModule:t}),expanded:e.expanded,onRemoveModule:e.onRemoveModule,onExpandRecords:e.onExpandRecords,onCollapseRecords:e.onCollapseRecords})}):[m.createElement(Ee,{key:e.row.displayModule.id,row:e.row,expanded:e.expanded,onRemoveModule:e.onRemoveModule,onExpandRecords:e.onExpandRecords,onCollapseRecords:e.onCollapseRecords})]}({row:t,expanded:"expand-all"===e.expandMode||"manual"===e.expandMode&&e.expandedRecords.has(t.displayModule.id),onRemoveModule:e.onRemoveModule,onExpandRecords:e.onExpandRecords,onCollapseRecords:e.onCollapseRecords})})))}),Oe="\u221e";function we(e){return m.createElement("div",{className:"col-sm-12"},m.createElement("label",{className:"sr-only",htmlFor:"filter-cumulativeSize-min"},"Min (bytes)"),m.createElement("label",{className:"sr-only",htmlFor:"filter-cumulativeSize-max"},"Max (bytes)"),m.createElement("div",{className:"input-group"},m.createElement("input",{className:"form-control",style:{width:"100px"},id:"filter-cumulativeSize-min",onChange:e.onChangeMin,placeholder:"0 bytes",type:"text",value:e.filters.cumulativeSizeMin}),m.createElement("div",{className:"input-group-addon"},m.createElement("code",null,"< size <")),m.createElement("input",{className:"form-control",style:{width:"100px"},id:"filter-cumulativeSize-max",onChange:e.onChangeMax,placeholder:"".concat(Oe," bytes"),type:"text",value:e.filters.cumulativeSizeMax})))}function je(e){return m.createElement("span",{title:e.title},e.children,e.isFiltered?m.createElement("span",{style:{paddingLeft:"5px"},title:"Clear filter"},m.createElement(C,{label:"Clear",onClick:e.onClear})):null)}function Se(e){return m.createElement("div",{className:"col-sm-12"},m.createElement("label",{className:"sr-only",htmlFor:"filter-moduleName-like"},"Matches RegExp"),m.createElement("div",{className:"input-group"},m.createElement("div",{className:"input-group-addon"},m.createElement("code",null,"new RegExp(")),m.createElement("input",{className:"form-control",style:{width:"100px"},id:"filter-moduleName-like",onChange:e.onChange,placeholder:".*",type:"text",value:e.filters.moduleName||""}),m.createElement("div",{className:"input-group-addon"},m.createElement("code",null,")"))))}var Ie="\u221e";function De(e){return m.createElement("div",{className:"col-sm-12"},m.createElement("label",{className:"sr-only",htmlFor:"filter-requiredByCount-min"},"Min (bytes)"),m.createElement("label",{className:"sr-only",htmlFor:"filter-requiredByCount-max"},"Max (bytes)"),m.createElement("div",{className:"input-group"},m.createElement("input",{className:"form-control",style:{width:"100px"},id:"filter-requiredByCount-min",onChange:e.onChangeMin,placeholder:"0",type:"text",value:e.filters.requiredByCountMin}),m.createElement("div",{className:"input-group-addon"},m.createElement("code",null,"< requirements <")),m.createElement("input",{className:"form-control",style:{width:"100px"},id:"filter-requiredByCount-max",onChange:e.onChangeMax,placeholder:Ie,type:"text",value:e.filters.requiredByCountMax})))}var Fe="\u221e";function Pe(e){return m.createElement("div",{className:"col-sm-12"},m.createElement("label",{className:"sr-only",htmlFor:"filter-requirementsCount-min"},"Min (bytes)"),m.createElement("label",{className:"sr-only",htmlFor:"filter-requirementsCount-max"},"Max (bytes)"),m.createElement("div",{className:"input-group"},m.createElement("input",{className:"form-control",style:{width:"100px"},id:"filter-requirementsCount-min",onChange:e.onChangeMin,placeholder:"0",type:"text",value:e.filters.requirementsCountMin}),m.createElement("div",{className:"input-group-addon"},m.createElement("code",null,"< imports <")),m.createElement("input",{className:"form-control",style:{width:"100px"},id:"filter-requirementsCount-max",onChange:e.onChangeMax,placeholder:Fe,type:"text",value:e.filters.requirementsCountMax})))}var Re="\xa0";function _e(e){var t=e.sort.field===e.field;return m.createElement("div",null,t?m.createElement(k.i,{icon:"ASC"===e.sort.direction?k.b:k.a}):null,t?Re:null,e.children)}var qe="\u221e",Be="\xa0";var ze=Object(O.b)(function(e){return{filters:e.filters,sort:e.sort}},function(e){return{onFilter:A(e),onSort:T(e)}})(function(e){return m.createElement("thead",null,m.createElement("tr",null,null,m.createElement("th",null,m.createElement(v,{color:"link",display:"block",onClick:function(){return e.onSort("name")}},m.createElement("div",{className:"text-left"},m.createElement(_e,{field:"name",fieldType:"alpha",sort:e.sort},"Module Name"))),m.createElement(x,{color:"link",getContent:function(){return m.createElement(Se,{filters:e.filters,onChange:function(t){return e.onFilter({moduleName:t.target.value})}})}},m.createElement(je,{title:"Click to filter by module name",onClear:function(){return e.onFilter({moduleName:""})},isFiltered:!!e.filters.moduleName},"new RegExp(",e.filters.moduleName?e.filters.moduleName:".*",")"))),m.createElement("th",{className:"align-top text-right"},m.createElement(v,{color:"link",display:"block",onClick:function(){return e.onSort("cumulativeSize")}},m.createElement("div",{className:"text-right"},m.createElement(_e,{field:"cumulativeSize",fieldType:"size",sort:e.sort},"Weighted"))),m.createElement(x,{color:"link",getContent:function(){return m.createElement(we,{filters:e.filters,onChangeMin:function(t){return e.onFilter({cumulativeSizeMin:t.target.value})},onChangeMax:function(t){return e.onFilter({cumulativeSizeMax:t.target.value})}})}},m.createElement(je,{title:"Click to filter by weighted score",onClear:function(){e.onFilter({cumulativeSizeMin:"",cumulativeSizeMax:""})},isFiltered:!(!e.filters.cumulativeSizeMin&&!e.filters.cumulativeSizeMax)},e.filters.cumulativeSizeMin||0,Be+"<"+Be,e.filters.cumulativeSizeMax||qe))),m.createElement("th",{className:"align-top text-right"},m.createElement(v,{color:"link",display:"block",onClick:function(){return e.onSort("size")}},m.createElement("div",{className:"text-right"},m.createElement(_e,{field:"size",fieldType:"size",sort:e.sort},"Size")))),m.createElement("th",{className:"align-top text-right"},m.createElement(v,{color:"link",display:"block",onClick:function(){return e.onSort("requiredByCount")}},m.createElement("div",{className:"text-right"},m.createElement(_e,{field:"requiredByCount",fieldType:"size",sort:e.sort},"Dependants"))),m.createElement(x,{align:"right",color:"link",getContent:function(){return m.createElement(De,{filters:e.filters,onChangeMin:function(t){return e.onFilter({requiredByCountMin:t.target.value})},onChangeMax:function(t){return e.onFilter({requiredByCountMax:t.target.value})}})}},m.createElement(je,{title:"Click to filter by dependants",onClear:function(){e.onFilter({requiredByCountMin:"",requiredByCountMax:""})},isFiltered:!(!e.filters.requiredByCountMin&&!e.filters.requiredByCountMax)},e.filters.requiredByCountMin||0,Be+"<"+Be,e.filters.requiredByCountMax||qe))),m.createElement("th",{className:"align-top text-right"},m.createElement(v,{color:"link",display:"block",onClick:function(){return e.onSort("requirementsCount")}},m.createElement("div",{className:"text-right"},m.createElement(_e,{field:"requirementsCount",fieldType:"size",sort:e.sort},"Imports"))),m.createElement(x,{align:"right",color:"link",getContent:function(){return m.createElement(Pe,{filters:e.filters,onChangeMin:function(t){return e.onFilter({requirementsCountMin:t.target.value})},onChangeMax:function(t){return e.onFilter({requirementsCountMax:t.target.value})}})}},m.createElement(je,{title:"Click to filter by requirements",onClear:function(){e.onFilter({requirementsCountMin:"",requirementsCountMax:""})},isFiltered:!(!e.filters.requirementsCountMin&&!e.filters.requirementsCountMax)},e.filters.requirementsCountMin||0,Be+"<"+Be,e.filters.requirementsCountMax||qe))),m.createElement("th",null)))});function Te(e){var t=function(e){if(e instanceof HTMLElement)return Le(e),e;var t=document.getElementById(e);if(t)return Le(t),t;return null}(e);t&&t.focus()}function Ae(e,t,n,r){return e<n&&n<e+t-r}function Le(e){var t=function(e){var t=0,n=e;if(n.offsetParent){do{n instanceof HTMLElement&&(t+=n.offsetTop),n=n.offsetParent}while(n);return t}return n.offsetTop}(e),n=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=getComputedStyle(e),r="absolute"===n.position,l=t?/(auto|scroll|hidden)/:/(auto|scroll)/;if("fixed"===n.position)return document.body;for(var a=e;a=a.parentElement;)if(n=getComputedStyle(a),(!r||"static"!==n.position)&&l.test(n.overflow+n.overflowY+n.overflowX))return a instanceof HTMLElement?a:null;return document.body}(e);n&&(n===document.body?Ae(window.scrollY,window.innerHeight,t,e.offsetHeight)||window.scroll(0,t):Ae(n.scrollTop,n.offsetHeight,t,e.offsetHeight)||(n.scrollTop=t))}function He(e){var t=e.nextMode===e.expandMode;return m.createElement(v,{color:"link",size:"block",style:{textAlign:"left"},onClick:function(t){t.preventDefault(),e.onPickMode(e.nextMode)}},m.createElement("input",{type:"checkbox",checked:t?"check":""})," ","expand-all"===e.nextMode?"Expand":"Collapse"," All")}var Ue=Object(O.b)(function(e){return{expandMode:e.expandMode}},function(e){return{onChangedExpandMode:X(e)}})(function(e){return m.createElement(x,{align:"right",color:"light",size:"xs",getContent:function(t){var n=function(n){t(),e.onChangedExpandMode(n)};return[m.createElement("li",{key:"expand-all"},m.createElement(He,{expandMode:e.expandMode,nextMode:"expand-all",onPickMode:n})),m.createElement("li",{key:"collapse-all"},m.createElement(He,{expandMode:e.expandMode,nextMode:"collapse-all",onPickMode:n}))]}},"Unqiue Imports"," ",m.createElement("span",{className:"caret"}))}),We=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){this.props.focusedRowID&&Te(this.props.focusedRowID)}},{key:"render",value:function(){var e=this.props;return e.modulesIncludedLabel?m.createElement(le,{className:"my-3",type:"primary",heading:m.createElement("div",null,m.createElement("div",{className:"float-right"},m.createElement(Ue,null)),e.modulesIncludedLabel)},m.createElement("table",{className:"table table-sm table-bordered table-hover",cellPadding:"0",cellSpacing:"0"},m.createElement(ze,null),m.createElement(Ne,null))):null}}]),t}(m.PureComponent),Xe=Object(O.b)(function(e){if(e.calculatedFullModuleData){var t=e.calculatedFullModuleData.moduleData;if(t){var n=0===t.removed.length?"All":String(t.included.length);return{modulesIncludedLabel:"".concat(n," Modules Included"),focusedRowID:e.currentlyFocusedElementID}}}return{modulesIncludedLabel:null,focusedRowID:e.currentlyFocusedElementID}},function(){return{}})(We);function Ge(){return m.createElement(m.Fragment,null,m.createElement("div",{className:"row"},m.createElement("div",{className:"col-sm-11 ml-auto"},m.createElement(fe,null))),m.createElement("div",{className:"row"},m.createElement("div",{className:"col-sm-12"},m.createElement(me,null))),m.createElement("div",{className:"row"},m.createElement("div",{className:"col-sm-12"},m.createElement(he,null))),m.createElement("div",{className:"row"},m.createElement("div",{className:"col-sm-12"},m.createElement(Xe,null))))}n(77);function Je(){return m.createElement("div",{className:"text-center"},m.createElement("p",null,m.createElement(k.i,{icon:k.f,size:"large",className:"LoadingSpinner-icon"})),m.createElement("p",null,m.createElement("em",null,"Loading")))}function Ve(e,t){return null===e&&null===t||String(e)===String(t)}function Ye(e,t){return e.names.join(", ")||(t[e.id]?"import('".concat(t[e.id],"')"):null)||e.origins.map(function(e){return e.moduleName}).join(", ")}function Ke(e){return"import()"===e.type}function Ze(e){return e.reasons.filter(Ke).length>0}function $e(e){return e.chunks}var Qe=Number.MIN_SAFE_INTEGER;function et(e){var t=function(e){var t=e.chunks.reduce(function(e,t){return e[t.id]=t,e},{});return e.modules.filter(Ze).reduce(function(e,n){return n.reasons.filter(Ke).forEach(function(r){var l=n.chunks.map(function(e){return t[e]}).filter(function(e){return e.origins.length>=1&&e.origins[0].loc===r.loc}).shift();l&&(e[l.id]=n.name)}),e},{})}(e),n=$e(e),r=[],l={},a={};return n.forEach(function(e){var n=Ye(e,t);l[e.id]={id:e.id,ids:[e.id],name:n,names:e.names,children:[]},function(e){if(0===e.indexOf("./node_modules/promise-loader?"))return e.replace("./node_modules/promise-loader?","");var t=e.match(/import\('([\w\S]+)'\)/);return t?t[1]:e}(n)!==n&&(a[e.id]={id:e.id,ids:[e.id],name:Ye(e,t),names:e.names,children:[]})}),n.forEach(function(e){var t=e.id,n=l[t];0===e.parents.length?r.push(n):e.parents.forEach(function(e){var t=l[e],r=a[e];r?r.children.push(n):t.children.push(n)})}),{id:Qe,ids:[],name:"",names:[],children:r.concat(Object.values(a))}}n(78);function tt(e){e.stopPropagation()}var nt=Object(O.b)(function(e){return{selectedChunkId:e.selectedChunkId,chunksByParent:e.calculatedFullModuleData?e.calculatedFullModuleData.chunksByParent:[]}},function(e){return{onSelectChunkId:H(e)}})(function(e){if(0===e.chunksByParent.length)return null;var t=function(e){var t=[],n={};return function e(r,l){r.forEach(function(r){n[r.id]||(t.push({id:r.id,name:r.name,indent:l}),n[r.id]=!0),e(r.children,l+1)})}(e,0),t}(e.chunksByParent),n=t.filter(function(t){return Ve(t.id,e.selectedChunkId)}).pop(),r=n?n.name:"- pick a chunk -";return m.createElement("div",{className:"row form-group",onClick:tt},m.createElement("label",{className:"col-sm-1 col-form-label"},"Chunk"),m.createElement("div",{className:"col-sm-11"},m.createElement(M,{scrollable:!0,disabled:0===t.length,filter:"default",items:t.map(function(t){return{node:function(n){return m.createElement(v,{color:"link",display:"block",style:t.indent?{paddingLeft:t.indent+"em"}:{},onClick:function(){n(),e.onSelectChunkId(t.id)}},m.createElement("div",{className:["text-left",t.indent?"ChunkDropdownPrefix":""].join(" ")},t.name," (",t.id,")"))},value:t.id}})},r)))});function rt(e){e.stopPropagation()}var lt=Object(O.b)(function(e){var t=e.jsonChildren&&e.selectedFilename?e.jsonChildren[e.selectedFilename]:null;return{childrenIndexes:t?t.map(function(e,t){return t}):[],selectedChildIndex:e.selectedChildIndex}},function(e){return{onPickedChild:L(e)}})(function(e){return e.childrenIndexes.length<=1?null:m.createElement("div",{className:"row form-group",onClick:rt},m.createElement("label",{className:"col-sm-1 col-form-label",htmlFor:"data-child-picker"},"Config"),m.createElement("div",{className:"col-sm-11"},m.createElement(M,{items:(e.childrenIndexes||[]).map(function(e){return{label:String(e),value:e}}),onItemPicked:function(t){e.onPickedChild(Number(t))}},String(e.selectedChildIndex||"- pick a config -"))))});n(79);function at(){return f.a.createElement("div",{className:"card my-3"},f.a.createElement("div",{className:"card-header"},f.a.createElement("label",{className:"control-label"},"Drag & Drop your ",f.a.createElement("code",null,"stats.json")," file here"),f.a.createElement("p",{id:"drag-drop-helpblock",className:"col-sm-12 help-block"},"Run ",f.a.createElement("kbd",null,"webpack --json > stats.json")," to get started.")))}var ot=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={isDragging:!1},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n="empty"===t.appState||this.state.isDragging;return f.a.createElement("div",{className:"App"},f.a.createElement(K,null),f.a.createElement("div",{className:"AppFixed"},f.a.createElement("div",{className:"AppView container-fluid"},f.a.createElement("aside",null,f.a.createElement(h,{id:"drag-drop-upload","aria-describedby":"drag-drop-helpblock",className:"form-control",onDragEnter:function(){return e.setState({isDragging:!0})},onDragLeave:function(){return e.setState({isDragging:!1})},onChange:t.onPickedFile,didGetFile:t.onDroppedFile},f.a.createElement("form",null,f.a.createElement(Y,null),n?f.a.createElement(at,null):null,f.a.createElement(lt,null),f.a.createElement(nt,null)))),f.a.createElement("main",null,function(e){switch(e.appState){case"empty":return null;case"loading":return f.a.createElement(Je,null);case"loaded":return f.a.createElement(Ge,null);default:throw new Error("Invalid appState: ".concat(JSON.stringify(e.appState)))}}(t)))))}}]),t}(m.Component);function it(e){if(!e.selectedFilename||!e.dataPaths[e.selectedFilename])return"empty";switch(e.dataPaths[e.selectedFilename]){case"unknown":case"loading":return"loading";case"ready":return"loaded";case"error":default:return"empty"}}var ct=Object(O.b)(function(e){return{appState:it(e)}},function(e){return{onPickedFile:R(e),onDroppedFile:_(e)}})(ot),ut=n(17),st=n.n(ut),dt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function mt(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var ft=n(11);function pt(e,t){if(!t)return null;var n=function(e,t){var n={};return e.chunks.forEach(function(e){t.includes(e.id)&&(n[e.id]={id:e.id,length:0,modules:[]})}),e.modules.forEach(function(e){e.chunks.forEach(function(t){n[t]&&(n[t].modules=n[t].modules.concat(e))})}),Object.keys(n).forEach(function(e){n[e].length=n[e].modules.length,0===n[e].length&&delete n[e]}),n}(e,t.map(function(e){return e.id}));return t.reduce(function(e,t){var r=n[t.id]||{modules:[]};return e.concat(r.modules)},[])}function ht(e){var t=[];return Object.keys(e).forEach(function(n){!function n(r,l){if(t.includes(r.id))return r.cumulativeSize;var a=r.size;return r.requirements.forEach(function(t){if(e[t.id])if(l.includes(t.id))r.loops.push(l.map(function(t){return e[t]}));else{var o=e[t.id],i=n(o,l.concat(t.id));a+=i/o.requiredByCount}}),t.push(r.id),r.cumulativeSize=a,a}(e[n],[n])}),e}function gt(e,t){return function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(null===n)return null;if(Ve(t.id,n))return r.concat(t);for(var l=0;l<t.children.length;l++){var a=t.id!==Qe?r.concat(t):r,o=e(t.children[l],n,a);if(o)return o}return null}(e,t)}function Et(e,t,n){var r=et(e);if(null===t||void 0===t)return{moduleData:null,extendedModules:[],chunksByParent:r.children,parentChunks:null};var l=gt(r,t),a=pt(e,l);if(!a)return{moduleData:null,extendedModules:[],chunksByParent:r.children,parentChunks:l};var o=function(e){var t=e.map(function(e){return Object($.a)({},e,{requiredBy:[],requiredByCount:0,requirements:[],requirementsCount:0,cumulativeSize:0,loops:[]})}).reduce(function(e,t){return e[t.id]=t,e},{});return e.forEach(function(e){e.reasons.forEach(function(n){var r=t[n.moduleId];if(r){if(r.identifier.split("!").shift().indexOf("promise-loader")>=0)return;t[e.id].requiredBy.push(n),t[e.id].requiredByCount+=1,r.requirements.push(e),r.requirementsCount+=1}})}),t}(a);if(!o)return{moduleData:null,extendedModules:[],chunksByParent:r.children,parentChunks:l};var i=function(e,t){var n=Object.values(e);if(0===t.length)return{included:n,removed:[]};for(var r=n.map(function(e){return String(e.id)}),l=t.map(String),a=function(e){return r.includes(String(e.moduleId))},o=n.filter(function(e){return!l.includes(String(e.id))&&0===e.reasons.filter(a).length}).map(function(e){return e.id}),i=function(e){return!l.includes(String(e.id))},c=function(e){o.includes(e.id)||o.push(e.id)},u=0;u<o.length;)e[o[u]].requirements.filter(i).map(c),u+=1;return{included:n.filter(function(e){return o.includes(e.id)}),removed:n.filter(function(e){return!o.includes(e.id)})}}(o,n);return{moduleData:i,extendedModules:i?Object.values(ht(be(i.included))):[],chunksByParent:r.children,parentChunks:l}}var vt={appState:"empty",dataPaths:{},selectedFilename:null,childrenIndexes:[],selectedChildIndex:null,selectedChunkId:null,blacklistedModuleIds:[],jsonChildren:{},sort:{field:"cumulativeSize",direction:"DESC"},filters:{moduleName:"",cumulativeSizeMin:"",cumulativeSizeMax:"",requiredByCountMin:"",requiredByCountMax:"",requirementsCountMin:"",requirementsCountMax:""},expandMode:"collapse-all",expandedRecords:new Set,currentlyFocusedElementID:null,calculatedFullModuleData:null};function bt(e){return 1===e.length?0:null}function yt(e,t){if(null===t||void 0===t||!e[t])return null;var n=$e(e[t]);return 1===n.length?n[0].id:null}function Ct(e,t){switch(t.type){case"discoveredDataPaths":return Object($.a)({},e,{dataPaths:Object($.a)({},t.paths.reduce(function(e,t){return e[t]=e[t]||"unknown",e},{}),e.dataPaths)});case"pickDataPath":var n=bt(e.jsonChildren[t.path]||[]);return Object($.a)({},e,{dataPaths:Object($.a)(Object(ft.a)({},t.path,e.dataPaths[t.path]||"unknown"),e.dataPaths),selectedFilename:t.path,selectedChildIndex:n,selectedChunkId:yt(e.jsonChildren[t.path]||[],n),blacklistedModuleIds:[],expandMode:"collapse-all",expandedRecords:new Set,currentlyFocusedElementID:null});case"requestedDataAtPath":return Object($.a)({},e,{dataPaths:Object($.a)({},e.dataPaths,Object(ft.a)({},t.path,"ready"===e.dataPaths[t.path]?"ready":"loading"))});case"loadedStatsAtPath":var r=bt(t.children);return Object($.a)({},e,{dataPaths:Object($.a)({},e.dataPaths,Object(ft.a)({},t.path,"ready")),jsonChildren:Object($.a)({},e.jsonChildren,Object(ft.a)({},t.path,t.children)),selectedChildIndex:r,selectedChunkId:yt(t.children,r)});case"erroredAtPath":return Object($.a)({},e,{dataPaths:Object($.a)({},e.dataPaths,Object(ft.a)({},t.path,"error"))});case"onSorted":var l=e.sort.field===t.field,a="ASC"===e.sort.direction?"DESC":"ASC",o=l?a:"DESC";return Object($.a)({},e,{sort:{field:t.field,direction:o}});case"onFiltered":return Object($.a)({},e,{filters:Object($.a)({},e.filters,t.changes)});case"onPickedChild":return Object($.a)({},e,{selectedChildIndex:t.childIndex,selectedChunkId:yt(e.jsonChildren&&e.jsonChildren[String(e.selectedFilename)]||[],t.childIndex),blacklistedModuleIds:[],expandMode:"collapse-all",expandedRecords:new Set,currentlyFocusedElementID:null});case"onPickedChunk":return Object($.a)({},e,{selectedChunkId:String(t.chunkId),blacklistedModuleIds:[],expandMode:"collapse-all",expandedRecords:new Set,currentlyFocusedElementID:null});case"onRemoveModule":return Object($.a)({},e,{blacklistedModuleIds:[].concat(Object(ve.a)(e.blacklistedModuleIds),[t.moduleID])});case"onIncludeModule":var i=t.moduleID;return Object($.a)({},e,{blacklistedModuleIds:e.blacklistedModuleIds.filter(function(e){return String(e)!==String(i)})});case"changeExpandRecordsMode":return Object($.a)({},e,{expandMode:t.mode});case"onExpandRecords":return Object($.a)({},e,{expandMode:"manual",expandedRecords:new Set(e.expandedRecords.add(t.moduleID))});case"onCollapseRecords":var c=new Set(e.expandedRecords);return c.delete(t.moduleID),Object($.a)({},e,{expandMode:0===e.expandedRecords.size?"collapse-all":"manual",expandedRecords:c});case"onFocusChanged":if(t.elementID&&e.calculatedFullModuleData&&e.calculatedFullModuleData.extendedModules){var u=t.elementID,s=function e(t,n){var r=t[n];if(!r)return null;var l=r.requiredBy.length;return 0===l?null:1===l?e(t,r.requiredBy[0].moduleId):0===r.requirements.length?null:r}(be(e.calculatedFullModuleData.extendedModules),u);return Object($.a)({},e,{expandMode:s?"manual":e.expandMode,expandedRecords:s?new Set(e.expandedRecords.add(s.id)):e.expandedRecords,currentlyFocusedElementID:t.elementID})}return Object($.a)({},e,{currentlyFocusedElementID:t.elementID});default:return e}}var kt=n(18);var xt=function(){function e(t){var n=this;Object(i.a)(this,e),this._subscription=null,this.onStoreChanged=function(){var e=n._store.getState();window.location.hash=n.encodeStateForHash(e)},this._store=t;var r=this.readStateFromHash(window.location.hash);if(null!==r.filename&&void 0!==r.filename&&(z(t.dispatch)(r.filename),null!==r.chunk&&void 0!==r.chunk&&(H(t.dispatch)(r.chunk),r.rm))){var l=U(t.dispatch);r.rm.split(",").forEach(l)}this._subscription=t.subscribe(this.onStoreChanged)}return Object(c.a)(e,[{key:"readStateFromHash",value:function(e){return e.replace(/^#/,"").split("&").reduce(function(e,t){var n=t.split("="),r=Object(ae.a)(n,2),l=r[0],a=r[1];return e[l]=decodeURIComponent(a),e},{})}},{key:"encodeStateForHash",value:function(e){var t,n={};return null!==e.selectedFilename&&void 0!==e.selectedFilename&&(n.filename=e.selectedFilename,null!==e.selectedChunkId&&void 0!==e.selectedChunkId&&(n.chunk=e.selectedChunkId,e.blacklistedModuleIds&&e.blacklistedModuleIds.length&&(n.rm=e.blacklistedModuleIds.join(",")))),t=n,Object.keys(t).map(function(e){return"".concat(e,"=").concat(encodeURIComponent(t[e]))}).join("&")}},{key:"destroy",value:function(){this._subscription&&(this._subscription(),this._subscription=null)}}]),e}();xt.instance=null,xt.factory=function(e){return xt.instance||(xt.instance=new xt(e)),xt.instance};n(80),n(81);var Mt=Object(kt.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;return function(e,t){return function(n){console.timeStamp("".concat(e," start: ").concat(t)),console.time("".concat(e,": ").concat(t));for(var r=arguments.length,l=new Array(r>1?r-1:0),a=1;a<r;a++)l[a-1]=arguments[a];var o=n.apply(void 0,l);return console.timeEnd("".concat(e,": ").concat(t)),console.timeStamp("".concat(e," end: ").concat(t)),o}}("Reducer",t.type)(function(){return n=e,(r=Ct(e,t)).jsonChildren&&r.selectedFilename&&null!==r.selectedChildIndex&&void 0!==r.selectedChildIndex&&r.jsonChildren[r.selectedFilename]&&r.jsonChildren[r.selectedFilename][r.selectedChildIndex]?n.jsonChildren===r.jsonChildren&&n.selectedFilename===r.selectedFilename&&n.selectedChildIndex===r.selectedChildIndex&&n.selectedChunkId===r.selectedChunkId&&n.blacklistedModuleIds===r.blacklistedModuleIds?r:Object($.a)({},r,{calculatedFullModuleData:Et(r.jsonChildren[r.selectedFilename][r.selectedChildIndex],r.selectedChunkId,r.blacklistedModuleIds)}):Object($.a)({},r,{calculatedFullModuleData:null});var n,r})},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());xt.factory(Mt);var Nt,Ot=z(Mt.dispatch),wt=(Nt=Mt.dispatch,function(e){j(e).then(function(e){P()(e.paths,"Missing field. Expected '{\"paths\": []}' key. Got: ".concat(String(Object.keys(e)))),P()(Array.isArray(e.paths),'Invalid type. Expected "paths" to be an array of web urls. Got: '.concat(JSON.stringify(e.paths))),function(e){return function(t){return e({type:"discoveredDataPaths",paths:t})}}(Nt)(e.paths.map(String))}).catch(function(t){console.error("Failed while fetching json from '".concat(String(e),"'."),t)})});Object({NODE_ENV:"production",PUBLIC_URL:"https://pinterest.github.io/bonsai/analyze",REACT_APP_EXTERNAL_URL_PREFIX:"",REACT_APP_API_LIST_ENDPOINT:"/bonsai/example-index.json"}).REACT_APP_STATS_URL?Ot(Object({NODE_ENV:"production",PUBLIC_URL:"https://pinterest.github.io/bonsai/analyze",REACT_APP_EXTERNAL_URL_PREFIX:"",REACT_APP_API_LIST_ENDPOINT:"/bonsai/example-index.json"}).REACT_APP_STATS_URL):console.info("Env var 'REACT_APP_STATS_URL' was empty. Skipping fetch."),wt("/bonsai/example-index.json");var jt=document.getElementById("root");if(!jt)throw new Error("Missing root node");st.a.render(m.createElement(O.a,{store:Mt},m.createElement(ct,null)),jt),function(){if("serviceWorker"in navigator){if(new URL("https://pinterest.github.io/bonsai/analyze",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("https://pinterest.github.io/bonsai/analyze","/service-worker.js");dt?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):mt(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):mt(e)})}}()}},[[45,1,2]]]);
//# sourceMappingURL=main.1376c348.chunk.js.map